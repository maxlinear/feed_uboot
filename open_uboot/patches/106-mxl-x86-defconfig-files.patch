# HG changeset patch
# Parent  d5b472aafd237a7f9d1a494806c368c13e258fa1

diff --git a/arch/x86/dts/octopus-640.dts b/arch/x86/dts/octopus-640.dts
new file mode 100644
--- /dev/null
+++ b/arch/x86/dts/octopus-640.dts
@@ -0,0 +1,243 @@
+/*
+ * Copyright 2022 Maxlinear Corporation.
+ *
+ * SPDX-License-Identifier:     GPL-2.0+
+ */
+
+/dts-v1/;
+/include/ "lightning-mountain.dtsi"
+
+#include <dt-bindings/gpio/x86-gpio.h>
+#include <dt-bindings/misc/lgm-sso.h>
+#include "tsc_timer.dtsi"
+
+/ {
+	tsc-timer {
+		clock-frequency = <2496000000>; /* 2.184GHZ */
+	};
+
+	microcode {
+		u-boot,dm-pre-reloc;
+		update@0 {
+			u-boot,dm-pre-reloc;
+#include "microcode/m01070656_96002601.dtsi"
+		};
+	};
+
+	/* WAN mode detection/configuration GPIOs */
+	wan-mode-gpio {
+		compatible = "wan-mode-detect";
+		pon-mode-abs = <&gpio2 18 PIN_INPUT GPIO_MODE_FUNC0>;
+		wan-mode-switch = <&gpio1 8 PIN_OUTPUT GPIO_MODE_FUNC0>;
+	};
+};
+
+&eth0 {
+	wan-phy-id = <0x1c>; 	/* rtl8261 on WAN port */
+	p34x-phy-id = <0x10>; 	/* mxl82649 on serdes5 */ 
+	lan-rtl8261 = <0x1d>;	/* rtl8261 on serdes5 */
+	lan-gsw120-id = <0x04>;	/* gsw120 on serdes 4 */
+	lan-gpy215-id = <0x1b>; /* gpy 215 on serdes 3 */
+
+	mdc-lan = <&gpio2 30 PIN_OUTPUT GPIO_MODE_FUNC1>;
+	mdio-lan = <&gpio2 31 PIN_OUTPUT GPIO_MODE_FUNC1>;
+	/* select PON vs WAN */
+	wan-sel-gpio = <&gpio1 6 PIN_OUTPUT GPIO_MODE_FUNC0>;
+	/* rtl8261 vs mxl86249 */
+	lan-serdes5-sel-gpio = <&gpio0 15 PIN_OUTPUT GPIO_MODE_FUNC0>;
+
+	los-gpios = <&gpio2 5 PIN_INPUT GPIO_MODE_FUNC0>; /* GPIO 69 */
+	mod-def0-gpios = <&gpio2 18 PIN_INPUT GPIO_MODE_FUNC0>; /* GPIO 82 */
+	tx-disable-gpios = <&gpio2 9 PIN_OUTPUT GPIO_MODE_FUNC0>; /* GPIO 73 */
+	tx-fault-gpios = <&gpio2 8 PIN_INPUT GPIO_MODE_FUNC0>;  /* GPIO 72 */
+
+	/* Set this when potentially serdes between LGM and P34X is
+	 * not short. The symptom is packet loss due to rx-crc drops
+	*/
+	p34x-serdes-tune = <0x1>;
+};
+
+&i2c0 {
+	i2c-sda = <&gpio0 12 PIN_OUTPUT GPIO_MODE_FUNC2>;
+	i2c-scl = <&gpio0 20 PIN_OUTPUT GPIO_MODE_FUNC2>;
+
+	pmic@6a {
+		compatible = "intel,bd2653swv";
+		reg = <0x6a>;
+		status = "okay";
+	};
+};
+
+&i2c1 {
+	status = "okay";
+	i2c-sda = <&gpio0 21 PIN_OUTPUT GPIO_MODE_FUNC2>;
+	i2c-scl = <&gpio0 22 PIN_OUTPUT GPIO_MODE_FUNC2>;
+	ptn5150a@1d {
+		compatible = "nxp,ptn5150a";
+		reg = <0x1d>;
+		status = "okay";
+	};
+};
+
+/* Octopus i2c connections */
+&i2c2 {
+	status = "okay";
+	i2c-sda = <&gpio2 6 PIN_OUTPUT GPIO_MODE_FUNC1>;
+	i2c-scl = <&gpio2 7 PIN_OUTPUT GPIO_MODE_FUNC1>;
+
+	/* PON WAN i2c */
+	pon_wan_i2c@50 {
+		#address-cells = <1>;
+		reg = <0x50>;
+		status = "okay";
+	};
+};
+
+&i2c3 {
+	status = "okay";
+	i2c-scl = <&gpio1 30 PIN_OUTPUT GPIO_MODE_FUNC1>;
+	i2c-sda = <&gpio1 31 PIN_OUTPUT GPIO_MODE_FUNC1>;
+
+	serdes_a_eeprom@50 {
+		compatible = "atmel,24c64";
+		reg = <0x50>;
+		status = "okay";
+	};
+
+	serdes_b_eeprom@51 {
+		compatible = "atmel,24c64";
+		reg = <0x51>;
+		status = "okay";
+	};
+
+	octopus_board_eeprom@57 {
+		compatible = "atmel,24c64";
+		reg = <0x57>;
+		status = "okay";
+	};
+
+	/* T.B.C */
+	serdes_b_i2c_expander@44 {
+		compatible = "pericom,PI4IOE5V6408";
+		reg = <0x44>;
+		status = "okay";
+	};
+
+	i2c-mux@70 {
+		compatible = "nxp,pca9546";
+		reg = <0x70>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reset-gpios = <&gpio0 18 PIN_OUTPUT GPIO_MODE_FUNC0>;
+
+		i2c@0 {
+			reg = <0x0>;
+		};
+
+		i2c@1 {
+			reg = <0x1>;
+		};
+
+		/* power monitor definition based on latest board version */
+		i2c@2 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <0x2>;
+
+			ltc2945_0@6f {
+				compatible = "adi,ltc2945";
+				reg = <0x6f>;
+			};
+			ltc2945_1@6e {
+				compatible = "adi,ltc2945";
+				reg = <0x6e>;
+			};
+			ltc2945_2@6d {
+				compatible = "adi,ltc2945";
+				reg = <0x6d>;
+			};
+			ltc2945_3@68 {
+				compatible = "adi,ltc2945";
+				reg = <0x68>;
+			};
+		};
+	};
+};
+
+&leds {
+
+        led1 {
+            label = "led1";
+            default-state = "on";
+            pin = <CONFIG_LGM_SSO_LED1_PIN_NO>;
+            active-high;
+        };
+
+        led2 {
+            label = "led2";
+            default-state = "on";
+            pin = <CONFIG_LGM_SSO_LED2_PIN_NO>;
+            active-high;
+        };
+
+        led3 {
+            label = "led3";
+            default-state = "on";
+            pin = <CONFIG_LGM_SSO_LED3_PIN_NO>;
+            active-high;
+        };
+
+        led4 {
+            label = "led4";
+            default-state = "on";
+            pin = <CONFIG_LGM_SSO_LED4_PIN_NO>;
+            active-high;
+        };
+
+        led5 {
+            label = "led5";
+            default-state = "off";
+            pin = <CONFIG_LGM_SSO_LED5_PIN_NO>;
+            active-high;
+        };
+
+        led_blue {
+            label = "led_blue";
+            default-state = "off";
+            pin = <CONFIG_LGM_SSO_BLUE_LED_PIN_NO>;
+            active-high;
+        };
+
+        led_green {
+            label = "led_green";
+            default-state = "off";
+            pin = <CONFIG_LGM_SSO_GREEN_LED_PIN_NO>;
+            active-high;
+        };
+
+        led_red {
+            label = "led_red";
+            default-state = "off";
+            pin = <CONFIG_LGM_SSO_RED_LED_PIN_NO>;
+            active-high;
+        };
+};
+
+&usb1 {
+	status = "okay";
+	pwr-gpios = <&gpio0 2 PIN_OUTPUT GPIO_MODE_FUNC0>;
+};
+
+#ifdef CONFIG_MXL_QSPI
+&spi0 {
+	status = "okay";
+	qspi-gpios = <&gpio1 18 PIN_INPUT GPIO_MODE_FUNC3>, <&gpio1 19 PIN_INPUT GPIO_MODE_FUNC3>,
+		<&gpio1 20 PIN_INPUT GPIO_MODE_FUNC3>, <&gpio1 21 PIN_INPUT GPIO_MODE_FUNC3>,
+		<&gpio1 22 PIN_INPUT GPIO_MODE_FUNC3>, <&gpio1 25 PIN_INPUT GPIO_MODE_FUNC3>,
+		<&gpio1 26 PIN_INPUT GPIO_MODE_FUNC3>;
+};
+#endif
+
+&emmc {
+	cd-gpios = <&gpio1 25 PIN_INPUT GPIO_MODE_FUNC2>;
+};
diff --git a/configs/lgb-urx851-ddr_defconfig b/configs/lgb-urx851-ddr_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgb-urx851-ddr_defconfig
@@ -0,0 +1,210 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+# CONFIG_SPL_SPI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_BOOTCOMMAND="run addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} intel_pstate=active epu_table_ver=${epu_table_ver}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_MEM=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-DDR-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_LED=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+# CONFIG_DM_MTD is not set
+# CONFIG_MTD_UBI is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgb-urx851-p34x-phy-qspi-nand_defconfig b/configs/lgb-urx851-p34x-phy-qspi-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgb-urx851-p34x-phy-qspi-nand_defconfig
@@ -0,0 +1,275 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+CONFIG_SPL_DM_SPI=y
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SPL_SPI_FLASH_SUPPORT=y
+CONFIG_SPL_SPI=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_BOOTCOMMAND="run ubi_init ; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-QSPI_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_PCI is not set
+# CONFIG_CMD_SF is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+CONFIG_MTDIDS_DEFAULT="spi-nand0=spi0.1"
+CONFIG_MTDPARTS_DEFAULT="mtdparts=spi0.1:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_MTD_UBI=y
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_MXL_QSPI=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgb-urx851-p34x-phy-qspi-nor_defconfig b/configs/lgb-urx851-p34x-phy-qspi-nor_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgb-urx851-p34x-phy-qspi-nor_defconfig
@@ -0,0 +1,256 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_ENV_OFFSET=0x200000
+CONFIG_ENV_SECT_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+CONFIG_SPL_DM_SPI=y
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SPL_SPI_FLASH_SUPPORT=y
+CONFIG_SPL_SPI=y
+CONFIG_SPL_PAYLOAD="u-boot-sf.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-sf.bin"
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_BOOTCOMMAND="run addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} intel_pstate=active epu_table_ver=${epu_table_ver}"
+CONFIG_UPDATE_UBOOT="tftp 0x81fffc0 ${u-boot}; sf erase 0 0x100000; sf write 0x8200000 0 0x100000"
+CONFIG_U_BOOT="u-boot-plus-spl-sf.bin"
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_QSPI_NOR=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-QSPI_NOR-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-sf.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_NOR_SUPPORT=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SF=y
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+# CONFIG_ENV_IS_NOWHERE is not set
+CONFIG_ENV_IS_IN_SPI_FLASH=y
+CONFIG_ENV_ADDR=0x200000
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+# CONFIG_MTD is not set
+# CONFIG_DM_MTD is not set
+# CONFIG_MTD_NOR_FLASH is not set
+# CONFIG_CFI_FLASH is not set
+# CONFIG_FLASH_CFI_MTD is not set
+CONFIG_DM_SPI_FLASH=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_SOFT_RESET_ON_BOOT is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+# CONFIG_SPI_FLASH_MTD is not set
+# CONFIG_SPI_FLASH_USE_4K_SECTORS is not set
+# CONFIG_MTD_UBI is not set
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_MXL_QSPI=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgb-urx851-sec-p34x-phy-qspi-nand_defconfig b/configs/lgb-urx851-sec-p34x-phy-qspi-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgb-urx851-sec-p34x-phy-qspi-nand_defconfig
@@ -0,0 +1,294 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+CONFIG_SPL_DM_SPI=y
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SPL_SPI_FLASH_SUPPORT=y
+CONFIG_SPL_SPI=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_BOOTCOMMAND="run ubi_init ; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver}"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp 0x81fffc0 ${u-boot}; mtd erase spi-nand0 0 0x100000; mtd write spi-nand0 0x8200000 0 0x100000; mtd read spi-nand0 0x9200000 0 0x100000; if cmp.b 0x8200000 0x9200000 0x100000; then reset; else run update_uboot; fi"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftp 0x8200000 ${tep_firmware} && mtd erase spi-nand0 0x180000 0x100000 && mtd write spi-nand0 0x8200000 0x180000 0x100000"
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-QSPI_NAND-SECURE_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_PCI is not set
+# CONFIG_CMD_SF is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+CONFIG_MTDIDS_DEFAULT="spi-nand0=spi0.1"
+CONFIG_MTDPARTS_DEFAULT="mtdparts=spi0.1:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_MTD_UBI=y
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_MXL_QSPI=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgm-haps-2k-ebu-nand_defconfig b/configs/lgm-haps-2k-ebu-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-2k-ebu-nand_defconfig
@@ -0,0 +1,292 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_SPL_DM_SPI is not set
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=0
+# CONFIG_SPL_SPI is not set
+CONFIG_X86_RUN_32BIT=y
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_IS_HAPS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS-EBUNAND-OPEN-BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_I2C is not set
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+# CONFIG_CMD_LED is not set
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_I2C is not set
+# CONFIG_DM_KEYBOARD is not set
+
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x10000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_ANNOUNCE=y
+CONFIG_MXL_SERIAL=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+# CONFIG_SERIAL_SHIFT_LGM is not set
diff --git a/configs/lgm-haps-4fpga-4k-ebu-nand_defconfig b/configs/lgm-haps-4fpga-4k-ebu-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-4fpga-4k-ebu-nand_defconfig
@@ -0,0 +1,409 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x8000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_IS_HAPS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=1 mem=2048M memmap=31M$1M initcall_debug=0 loglevel={kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=8\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgm-haps-4fpga-ddr_defconfig b/configs/lgm-haps-4fpga-ddr_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-4fpga-ddr_defconfig
@@ -0,0 +1,227 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_SPI is not set
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=0
+# CONFIG_SPL_SPI is not set
+CONFIG_X86_RUN_32BIT=y
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_IS_HAPS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_BOOTCOMMAND="run addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} intel_pstate=active epu_table_ver=${epu_table_ver}"
+CONFIG_NET_RAM="tftpboot ${kernel_loadaddr} ${tftppath}${bootfile}; tftpboot ${dtb_loadaddr} ${tftppath}${dtb}; run ramargs addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_BOOT_FROM_MEM=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS-DDR-OPEN-BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_I2C is not set
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+# CONFIG_CMD_LED is not set
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_NET=y
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+# CONFIG_I2C is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+# CONFIG_DM_MTD is not set
+# CONFIG_MTD_UBI is not set
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_ANNOUNCE=y
+CONFIG_MXL_SERIAL=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgm-haps-4fpga-emmc_defconfig b/configs/lgm-haps-4fpga-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-4fpga-emmc_defconfig
@@ -0,0 +1,420 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x8000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_IS_HAPS=y
+CONFIG_DDR_TUNING_SEPARATE=y
+CONFIG_DDR_TUNING_START_ADDRESS=0xBFF50000
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upg_req;run check_commit_req; run check_img_activate; run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-LGM_UGW-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=70M;name=extended_boot_b,size=70M;name=securestore_a,size=8M;name=securestore_b,size=8M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=20M;name=overlay_container_a,size=8M;name=overlay_container_b,size=8M;name=log_partition,size=4M;"
+CONFIG_NET=y
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" HAPS-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_CMD_PING=y
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgm-haps-qspi-nand_defconfig b/configs/lgm-haps-qspi-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-qspi-nand_defconfig
@@ -0,0 +1,277 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x8000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+CONFIG_SPL_DM_SPI=y
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SPL_SPI_FLASH_SUPPORT=y
+CONFIG_SPL_SPI=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_IS_HAPS=y
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_BOOTDELAY=5
+CONFIG_LOADADDR=0x8200000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_BOOTCOMMAND="run ubi_init ; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_NET=y
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS--QSPI_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_PCI is not set
+# CONFIG_CMD_SF is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),96m(extended_boot),8m(misc),2m(log),-(res)"
+CONFIG_MTDIDS_DEFAULT="spi-nand0=spi0.1"
+CONFIG_MTDPARTS_DEFAULT="mtdparts=spi0.1:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),96m(extended_boot),8m(misc),2m(log),-(res)"
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_MXL_QSPI=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgm-haps-sec-4fpga-4k-ebu-nand_defconfig b/configs/lgm-haps-sec-4fpga-4k-ebu-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-sec-4fpga-4k-ebu-nand_defconfig
@@ -0,0 +1,435 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x8000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_IS_HAPS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x2
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+CONFIG_TEP_PKG=y
+CONFIG_TEP_FLASH_OFFSET=0x180000
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS-4K_PAGE-EBU_NAND-SECURE_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgm-haps-sec-4fpga-ddr_defconfig b/configs/lgm-haps-sec-4fpga-ddr_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-sec-4fpga-ddr_defconfig
@@ -0,0 +1,266 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_SPI is not set
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=0
+# CONFIG_SPL_SPI is not set
+CONFIG_X86_RUN_32BIT=y
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_IS_HAPS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_BOOTCOMMAND="run addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} intel_pstate=active epu_table_ver=${epu_table_ver}"
+CONFIG_NET_RAM="tftpboot ${kernel_loadaddr} ${tftppath}${bootfile}; tftpboot ${dtb_loadaddr} ${tftppath}${dtb}; run ramargs addmisc; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_IP_ADDRESS="172.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="172.168.1.2"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_MEM=y
+CONFIG_CHD_SECURE_BOOT=y
+
+# v4.2.0 #
+# CONFIG_SIGNTOOL="../u-boot-dev-2022/signtoolv4_2"
+#
+
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" HAPS-DDR-SECURE_BOOT"
+
+###
+# CONFIG_LOCALVERSION=" HAPS-DDR-SECURE_BOOT_WITH_ROT_KEY"
+# CONFIG_PRIVATE_KEY="../u-boot-dev-2022/384-bit_PrivateKeyPair_RoT.der"
+# CONFIG_PROD_UNIQUE_KEY="../u-boot-dev-2022/256-bit_HUK_RoT.bin"
+#
+# CONFIG_PRIVATE_KEY="../u-boot-dev-2022/384-bit_PrivateKeyPair_Vendor_2.der"
+# CONFIG_CERTIFICATION="../u-boot-dev-2022/Certificate_Chain_RV1_V12.bin"
+###
+
+###
+# CONFIG_RBE_SEPERATE_SIGNATURE=y
+# CONFIG_RBE_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+# CONFIG_RBE_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_RBE_CERIFICATION_SUPPORT=y
+# CONFIG_RBE_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_RBE_ROLLBACKID_VALUE=5
+###
+
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_I2C is not set
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+# CONFIG_CMD_LED is not set
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_NET=y
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+# CONFIG_I2C is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+# CONFIG_DM_MTD is not set
+# CONFIG_MTD_UBI is not set
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_ANNOUNCE=y
+CONFIG_MXL_SERIAL=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
diff --git a/configs/lgm-haps-sec-4fpga-emmc_defconfig b/configs/lgm-haps-sec-4fpga-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-haps-sec-4fpga-emmc_defconfig
@@ -0,0 +1,444 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x8000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain-haps"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_IS_HAPS=y
+CONFIG_DDR_TUNING_SEPARATE=y
+CONFIG_DDR_TUNING_START_ADDRESS=0xBFF50000
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_2666M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run led_inv_img; run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && run auth_rootfs && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && run auth_dtb && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && run auth_kernel && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && run led_auth_success && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && run led_kern_start && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0led_auth_success=led led1 on\0led_kern_start=led led3 blink 4\0led_inv_img=led led_green off; led led_blue off; led led_red on\0auth_rootfs=auth 5 ${loadaddr} ${rootfs_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_dtb=auth 4 ${dtb_loadaddr} ${dtb_a_block_size}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_kernel=auth 4 0x8200040 ${kernel_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=70M;name=extended_boot_b,size=70M;name=securestore_a,size=8M;name=securestore_b,size=8M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=20M;name=overlay_container_a,size=8M;name=overlay_container_b,size=8M;name=log_partition,size=4M;"
+CONFIG_NET=y
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_X86_TSC_TIMER_FREQ=43680000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" HAPS-EMMC-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+# CONFIG_WAN_XPCS is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_CMD_PING=y
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgm-simics-emmc-no-eth_defconfig b/configs/lgm-simics-emmc-no-eth_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgm-simics-emmc-no-eth_defconfig
@@ -0,0 +1,396 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_PMIC_CONFIGURATIONS is not set
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upg_req;run check_commit_req; run check_img_activate; run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+# CONFIG_NET is not set
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x4
+# CONFIG_LGM_EPU is not set
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+# CONFIG_INTEL_UCODE_PATCH is not set
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" SIMICS-EMMC-OPEN-BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+# CONFIG_SPL_I2C is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+# CONFIG_CMD_I2C is not set
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+# CONFIG_I2C is not set
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgp-urx851-ebu_nand-cust-img_defconfig b/configs/lgp-urx851-ebu_nand-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-ebu_nand-cust-img_defconfig
@@ -0,0 +1,391 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+CONFIG_SPL_PAD_SIZE=0x2C000
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x40000) - iBRH (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+CONFIG_CUSTOMER_TEST_IMG_OFFSET=0x80000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : Add to automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} epu_table_ver=${epu_table_ver}"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+# CONFIG_ETHERNET_ADDRESS is not set
+# CONFIG_ETHERNET_DEVICE is not set
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-EBU_NAND-CUSTOMER_TEST_IMAGE"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_TFTPBOOT is not set
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_PING is not set
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+# CONFIG_NET is not set
+# CONFIG_TFTP_BLOCKSIZE  is not set
+# CONFIG_TFTP_WINDOWSIZE is not set
+# CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS is not set
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+# CONFIG_ETH is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LGM_GPHY_FW_SIZE is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-ebu_nand-field-img_defconfig b/configs/lgp-urx851-ebu_nand-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-ebu_nand-field-img_defconfig
@@ -0,0 +1,410 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x2C000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init ; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} epu_table_ver=${epu_table_ver}"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+# CONFIG_TEP_PKG is not set
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-EBU_NAND-SECURE_PRODUCT_FIELD_IMAGE"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-ebu_nand-manuboot-img_defconfig b/configs/lgp-urx851-ebu_nand-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-ebu_nand-manuboot-img_defconfig
@@ -0,0 +1,405 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x2C000
+# CONFIG_CUSTOMER_TEST_IMG_BUILD is not set
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: Add to automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else gpio set 9 on; sso init 0; sso set 24 on; fi"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} epu_table_ver=${epu_table_ver}"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+# CONFIG_ETHERNET_ADDRESS is not set
+# CONFIG_ETHERNET_DEVICE is not set
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1560000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-new/ext_signing_nand_rot/signtool_DUMMY"
+CONFIG_PRIVATE_KEY="../u-boot-dev-new/ext_signing_nand_rot/384-bit_keypair_customer.der"
+CONFIG_PROD_UNIQUE_KEY="../u-boot-dev-new/ext_signing_nand_rot/256-bit_huk_product.bin"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-new/ext_signing_nand_rot/256-bit_SBCR_OTP.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-new/ext_signing_nand_rot/feat_cred.bin.delivery"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-new/ext_signing_nand_rot/otp_keyblob.bin.delivery"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-new/ext_signing_nand_rot/384-bit_Certificate_OTP.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-new/ext_signing_nand_rot/cust-img-u-boot-nand.bin"
+## external product field image (signed) entry #
+CONFIG_FIELD_IMAGE="../u-boot-dev-new/ext_signing_nand_rot/field-img-u-boot-nand.bin"
+## optional for external customer manufacturing boot image #
+## CONFIG_MANUBOOT_IMAGE="../u-boot-dev-new/ext_signing_nand_rot/manuboot-img-nand.bin"
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-EBU_NAND-MANUBOOT-DUMMY"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_CMD_BOOTM is not set
+# CONFIG_CMD_BOOTZ is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_CMD_FDT is not set
+# CONFIG_CMD_GO is not set
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+# CONFIG_CMD_SPL is not set
+# CONFIG_CMD_THOR_DOWNLOAD is not set
+# CONFIG_CMD_ZBOOT is not set
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+# CONFIG_CMD_DM is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_I2C is not set
+# CONFIG_CMD_LOADB is not set
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+# CONFIG_CMD_NAND_LOCK_UNLOCK is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_TFTPBOOT is not set
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_PING is not set
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+# CONFIG_NET is not set
+# CONFIG_TFTP_BLOCKSIZE  is not set
+# CONFIG_TFTP_WINDOWSIZE is not set
+# CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS is not set
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+# CONFIG_ETH is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LGM_GPHY_FW_SIZE is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-emmc-cust-img_defconfig b/configs/lgp-urx851-emmc-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-emmc-cust-img_defconfig
@@ -0,0 +1,421 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+#### NOTE: ROT : Not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x32000) - iBRH (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+#### NOTE: ROT : automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-CUSTOMER_TEST_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgp-urx851-emmc-field-img_defconfig b/configs/lgp-urx851-emmc-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-emmc-field-img_defconfig
@@ -0,0 +1,439 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run led_inv_img; run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && run auth_rootfs && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && run auth_dtb && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && run auth_kernel && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && run led_auth_success && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && run led_kern_start && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0led_auth_success=led led1 on\0led_kern_start=led led3 blink 4\0led_inv_img=led led_green off; led led_blue off; led led_red on\0auth_rootfs=auth 5 ${loadaddr} ${rootfs_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_dtb=auth 4 ${dtb_loadaddr} ${dtb_a_block_size}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_kernel=auth 4 0x8200040 ${kernel_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+# CONFIG_SB_ENV_PROTECTION is not set
diff --git a/configs/lgp-urx851-emmc-manuboot-img_defconfig b/configs/lgp-urx851-emmc-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-emmc-manuboot-img_defconfig
@@ -0,0 +1,451 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_WDT_TIMEOUT_VALUE is not set
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+#### NOTE: ROT : not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else gpio set 9 on; sso init 0; sso set 24 on; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0led_auth_success=led led1 on\0led_kern_start=led led3 blink 4\0led_inv_img=led led_green off; led led_blue off; led led_red on\0auth_rootfs=auth 5 ${loadaddr} ${rootfs_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_dtb=auth 4 ${dtb_loadaddr} ${dtb_a_block_size}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_kernel=auth 4 0x8200040 ${kernel_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+# CONFIG_NET is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_PING is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/signtool"
+CONFIG_PRIVATE_KEY="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/384-bit_keypair_customer.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/256-bit_SBCR_OTP.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/feat_cred.bin.delivery"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/otp_keyblob.bin.delivery"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/384-bit_Certificate_OTP.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/cust-img-u-boot-plus-spl-emmc.bin"
+## external product spl field image (signed) entry #
+CONFIG_FIELD_IMAGE="../u-boot-dev-2022/ext_signing_emmc_rot_dummy/field-img-spl-emmc.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-MANUBOOT-ENGINEERING-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+# CONFIG_SPL_WATCHDOG is not set
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_CACHE is not set
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_WATCHDOG is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
diff --git a/configs/lgp-urx851-p34x-phy-2K-page-ebu_nand_defconfig b/configs/lgp-urx851-p34x-phy-2K-page-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-p34x-phy-2K-page-ebu_nand_defconfig
@@ -0,0 +1,400 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-2K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-p34x-phy-4K-page-ebu_nand_defconfig b/configs/lgp-urx851-p34x-phy-4K-page-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-p34x-phy-4K-page-ebu_nand_defconfig
@@ -0,0 +1,400 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-p34x-phy-emmc-firewall-on_defconfig b/configs/lgp-urx851-p34x-phy-emmc-firewall-on_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-p34x-phy-emmc-firewall-on_defconfig
@@ -0,0 +1,425 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upg_req;run check_commit_req; run check_img_activate; run flashargs; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && run set_cma_size && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && run launch_tep && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && run addmisc && bootm ${kernel_loadaddr} - ${dtb_loadaddr};fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} tep_firmware_ver=0x${tep_firmware_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${kernel_loadaddr} ${tftppath}${bootfile}; tftpboot ${dtb_loadaddr} ${tftppath}${dtb}; run ramargs addmisc; run cma_check && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC_FIREWALL_ON-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_WDT=y
+CONFIG_LGM_WDT=y
+CONFIG_WDT_TIMEOUT_VALUE=0x0002BF20
+CONFIG_CMD_CACHE=y
diff --git a/configs/lgp-urx851-p34x-phy-emmc-separate-ddr_defconfig b/configs/lgp-urx851-p34x-phy-emmc-separate-ddr_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-p34x-phy-emmc-separate-ddr_defconfig
@@ -0,0 +1,417 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x8000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_DDR_TUNING_SEPARATE=y
+CONFIG_DDR_TUNING_START_ADDRESS=0xBFF50000
+CONFIG_DDR_TUNING_BIN_FLASH_OFFSET=0x200
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upgrade; && run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size}; mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size}; tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage}; cp.b ${loadaddr} 0x40000000 ${filesize}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize} && mmc dev 0 0; setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgp-urx851-p34x-phy-emmc_defconfig b/configs/lgp-urx851-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-p34x-phy-emmc_defconfig
@@ -0,0 +1,415 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upgrade; && run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size}; mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size}; tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage}; cp.b ${loadaddr} 0x40000000 ${filesize}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize} && mmc dev 0 0; setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
diff --git a/configs/lgp-urx851-sec-p34x-phy-2K-page-ebu_nand_defconfig b/configs/lgp-urx851-sec-p34x-phy-2K-page-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-sec-p34x-phy-2K-page-ebu_nand_defconfig
@@ -0,0 +1,424 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-2K_PAGE-EBU_NAND-SECURE_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_OOBSIZE=64
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/lgp-urx851-sec-p34x-phy-emmc_defconfig b/configs/lgp-urx851-sec-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/lgp-urx851-sec-p34x-phy-emmc_defconfig
@@ -0,0 +1,437 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="lightning-mountain"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x72000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_ANYWAN_LIGHTNING=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_LPDDR4=y
+CONFIG_LGM_FREQ_3733M=y
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run led_inv_img; run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && run auth_rootfs && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && run auth_dtb && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && run auth_kernel && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && run led_auth_success && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && run led_kern_start && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf ${custom}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0led_auth_success=led led1 on\0led_kern_start=led led3 blink 4\0led_inv_img=led led_green off; led led_blue off; led led_red on\0auth_rootfs=auth 5 ${loadaddr} ${rootfs_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_dtb=auth 4 ${dtb_loadaddr} ${dtb_a_block_size}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0auth_kernel=auth 4 0x8200040 ${kernel_a_filesize}; if test $? -ne 0; then led led1 off; led led2 blink 4 && exit 1; else exit 0; fi\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" URX851-EMMC-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=9
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_LED_STATUS=y
+CONFIG_LED_STATUS_OFF=0
+CONFIG_LED_STATUS_BLINKING=1
+CONFIG_LED_STATUS_ON=2
+CONFIG_LED_STATUS_BOARD_SPECIFIC=y
+CONFIG_LED_STATUS0=y
+CONFIG_LED_STATUS_BIT=50
+CONFIG_LED_STATUS_STATE=1
+CONFIG_LED_STATUS_FREQ=4
+CONFIG_LED_STATUS_BOOT_ENABLE=y
+CONFIG_LED_STATUS_BOOT=0
diff --git a/configs/octopus-EVB-1G-sfp-wan-4K-ebu_nand_defconfig b/configs/octopus-EVB-1G-sfp-wan-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-EVB-1G-sfp-wan-4K-ebu_nand_defconfig
@@ -0,0 +1,421 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x82000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=4
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=8
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),190m(extended_boot),32m(misc),10m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_LAN_HSIO_L is not set
+CONFIG_WAN_XPCS=y
+CONFIG_WAN_SFP=y
+CONFIG_SGMII_1G=y
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx640-2G-DDR-gpy215-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-gpy215-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-gpy215-emmc_defconfig
@@ -0,0 +1,471 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-gpy215-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_LAN_HSIO_R=n
+CONFIG_LAN_HSIO_L=y
+CONFIG_LAN_HSIO_L_SGMII_1G_2G5_AUTO_DET=y
+CONFIG_LGMC_SGMII=y
+CONFIG_HSIO1_XPCS1_HSIO3_PHY0_C10=y
+CONFIG_LGMC_SGMII_1G_2G5_AUTO_DET=y
+CONFIG_CMD_MDIO=y
+CONFIG_DM_MDIO=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx640-2G-DDR-gsw120-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-gsw120-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-gsw120-emmc_defconfig
@@ -0,0 +1,466 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-gsw120-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_LGMC_SGMII=y
+CONFIG_HSIO2_XPCS1_HSIO4_PHY0_C10=y
+CONFIG_LGMC_SGMII_2G5=y
+CONFIG_CMD_MDIO=y
+CONFIG_DM_MDIO=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx640-2G-DDR-mxl86249-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-mxl86249-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-mxl86249-emmc_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-mxl86249-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx640-2G-DDR-rtl8261-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-rtl8261-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-rtl8261-emmc_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7F000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=n
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+CONFIG_LAN_HSIO_R=n
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-rtl8261-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx640-2G-DDR-sec-mxl86249-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-sec-mxl86249-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-sec-mxl86249-emmc_defconfig
@@ -0,0 +1,485 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-sec-mxl86249-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx640-2G-DDR-sec-rtl8261-emmc_defconfig b/configs/octopus-docsis-urx640-2G-DDR-sec-rtl8261-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-2G-DDR-sec-rtl8261-emmc_defconfig
@@ -0,0 +1,485 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x81000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=n
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+CONFIG_LAN_HSIO_R=n
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-2G-DDR-sec-rtl8261-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
diff --git a/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-cust-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-cust-img_defconfig
@@ -0,0 +1,423 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x74000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+CONFIG_SPL_PAD_SIZE=0x2B000
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x2B000) - iBRH (0x1000) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+#### NOTE: ROT : automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_FLASH_FLASH="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),190m(extended_boot),32m(misc),10m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-4K_PAGE-EBU_NAND-CUSTOMER_TEST_IMAGE-FOR-REFERENCE-ONLY"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_CMD_FDT is not set
+# CONFIG_CMD_FIT_LOAD is not set
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_UBI is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_MISC is not set
+# CONFIG_I2C_EEPROM is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_OF_LIBFDT is not set
+# CONFIG_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_OF_LIBFDT_OVERLAY is not set
+# CONFIG_SPL_OF_LIBFDT is not set
+# CONFIG_SPL_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_SPL_WATCHDOG is not set
+# CONFIG_WATCHDOG_TIMEOUT_MSECS is not set
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_SPL_WDT is not set
diff --git a/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-field-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-field-img_defconfig
@@ -0,0 +1,437 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7A000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+#### NOTE: ROT : FIELD_IMAGE ####
+CONFIG_SPL_PAD_SIZE=0x2B000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(securestore),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-4K_PAGE-EBU_NAND-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-manuboot-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand-manuboot-img_defconfig
@@ -0,0 +1,456 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x60000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+# CONFIG_LGM_THERMAL_HIGH_THRESH is not set
+# CONFIG_LGM_THERMAL_LOW_THRESH is not set
+# CONFIG_DM_THERMAL is not set
+# CONFIG_LGM_THERMAL is not set
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+CONFIG_SPL_PAD_SIZE=0x2A000
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else echo \"RoT FAILED!\"; fi"
+CONFIG_FLASH_FLASH="run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(securestore),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+# CONFIG_ETHERNET_ADDRESS is not set
+# CONFIG_ETHERNET_DEVICE is not set
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/signtool"
+CONFIG_PRIVATE_KEY="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/384-bit_keypair_customer.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/256-bit_SBCR_OTP.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/feat_cred.bin.delivery"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/otp_keyblob.bin.delivery"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/384-bit_Certificate_OTP.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/cust-img-u-boot-plus-spl-nand.bin"
+## external product field image #
+CONFIG_FIELD_IMAGE="../u-boot-dev-640-RoT/urx640_rot_mats_engineering/field-img-u-boot-plus-spl-nand.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-4K_PAGE-EBU_NAND-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_CMD_BOOTM is not set
+# CONFIG_CMD_BOOTZ is not set
+# CONFIG_BOOTM_LINUX is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_CMD_FDT is not set
+# CONFIG_CMD_FIT_LOAD is not set
+# CONFIG_CMD_GO is not set
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+# CONFIG_CMD_ZBOOT is not set
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+# CONFIG_CMD_DM is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_I2C is not set
+# CONFIG_CMD_LOADB is not set
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+# CONFIG_CMD_NAND_LOCK_UNLOCK is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_CACHE is not set
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_TFTPBOOT is not set
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_PING is not set
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+# CONFIG_NET is not set
+# CONFIG_TFTP_BLOCKSIZE  is not set
+# CONFIG_TFTP_WINDOWSIZE is not set
+# CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS is not set
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_MISC is not set
+# CONFIG_I2C_EEPROM is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+# CONFIG_ETH is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+# CONFIG_LGM_GPHY_FW_SIZE is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_OF_LIBFDT is not set
+# CONFIG_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_OF_LIBFDT_OVERLAY is not set
+# CONFIG_SPL_OF_LIBFDT is not set
+# CONFIG_SPL_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_SPL_WATCHDOG is not set
+# CONFIG_WATCHDOG_TIMEOUT_MSECS is not set
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_SPL_WDT is not set
diff --git a/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-4K-ebu_nand_defconfig
@@ -0,0 +1,436 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x8f000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=data,4096 ubi.mtd=log,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_FS_EXT4=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-mxl86249-4K-ebu_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-docsis-urx640-mxl86249-emmc-cust-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-emmc-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-emmc-cust-img_defconfig
@@ -0,0 +1,466 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : Not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x32000) - iBRH (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+#### NOTE: ROT : automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-EMMC-CUSTOMER_TEST_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx640-mxl86249-emmc-field-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-emmc-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-emmc-field-img_defconfig
@@ -0,0 +1,482 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-EMMC-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
diff --git a/configs/octopus-docsis-urx640-mxl86249-emmc-manuboot-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-emmc-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-emmc-manuboot-img_defconfig
@@ -0,0 +1,496 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_SPL_WATCHDOG is not set
+# CONFIG_WATCHDOG_TIMEOUT_MSECS is not set
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_SPL_WDT is not set
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+# CONFIG_LGM_THERMAL_HIGH_THRESH is not set
+# CONFIG_LGM_THERMAL_LOW_THRESH is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else echo \"RoT FAILED!\"; fi"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+# CONFIG_NET is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_PING is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-2022/urx640_rot_mats_productive/signtool_URX800_C0_18_03_2024_v9.bin"
+CONFIG_PRIVATE_KEY="../u-boot-dev-2022/urx640_rot_mats_productive/384-bit_keypair_customer_productive.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-2022/urx640_rot_mats_productive/sbcr_otp_productive.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-2022/urx640_rot_mats_productive/feature_credential_productive.bin"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-2022/urx640_rot_mats_productive/otp_keyblob_v1_91_productive.bin"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-2022/urx640_rot_mats_productive/certificate_otp_productive.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-2022/urx640_rot_mats_productive/cust-img-u-boot-plus-spl-emmc.bin"
+## external product spl field image (signed) entry #
+CONFIG_FIELD_IMAGE="../u-boot-dev-2022/urx640_rot_mats_productive/field-img-spl-emmc.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-EMMC-MANUBOOT-PRODUCTIVE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_LOADB is not set
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+# CONFIG_CMD_FIT_LOAD is not set
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_SLEEP is not set
+# CONFIG_CMD_CACHE is not set
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_UPGRADE is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+# CONFIG_OF_LIBFDT_OVERLAY is not set
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+# CONFIG_MISC is not set
+# CONFIG_I2C_EEPROM is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+# CONFIG_DM_THERMAL is not set
+# CONFIG_LGM_THERMAL is not set
+# CONFIG_FDT_OVERLAY_SUPPORT is not set
+# CONFIG_CMD_USB is not set
+# CONFIG_DOS_PARTITION is not set
+# CONFIG_CMD_DM is not set
+# CONFIG_USB is not set
+# CONFIG_SPL_DM_USB is not set
+# CONFIG_DM_USB is not set
+# CONFIG_USB_HOST is not set
+# CONFIG_USB_XHCI_HCD is not set
+# CONFIG_USB_XHCI_PCI is not set
+# CONFIG_USB_XHCI_MXL is not set
+# CONFIG_USB_STORAGE is not set
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
diff --git a/configs/octopus-docsis-urx640-mxl86249-emmc_defconfig b/configs/octopus-docsis-urx640-mxl86249-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-emmc_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-mxl86249-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx640-mxl86249-qspi_nand-cust-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-cust-img_defconfig
@@ -0,0 +1,428 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE (qspi_nand-cust-img) ####
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x180000) + CONFIG_SPL_PAD_SIZE (0x34000)- CONFIG_SYS_NAND_PAGE_SIZE (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+CONFIG_CUSTOMER_TEST_IMG_OFFSET=0x180000
+CONFIG_SPL_PAD_SIZE=0x34000
+CONFIG_MANUBOOT_IMG_OFFSET=0x200000
+#### NOTE: ROT : automate change BRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 ubi.mtd=data,2048 ubi.mtd=log,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" *** FOR-REFERENCE-ONLY *** octopus-docsis-urx640-mxl86249-qspi_nand-cust-img"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_CMD_FDT is not set
+# CONFIG_CMD_FIT_LOAD is not set
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_UBI is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_MISC is not set
+# CONFIG_I2C_EEPROM is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_SPL_DM_SPI=y
+CONFIG_MXL_QSPI=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_OF_LIBFDT is not set
+# CONFIG_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_OF_LIBFDT_OVERLAY is not set
+# CONFIG_SPL_OF_LIBFDT is not set
+# CONFIG_SPL_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_SPL_WATCHDOG is not set
+# CONFIG_WATCHDOG_TIMEOUT_MSECS is not set
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_SPL_WDT is not set
diff --git a/configs/octopus-docsis-urx640-mxl86249-qspi_nand-field-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-field-img_defconfig
@@ -0,0 +1,446 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 ubi.mtd=data,2048 ubi.mtd=log,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" *** FOR-REFERENCE-ONLY *** octopus-docsis-urx640-mxl86249-qspi_nand-field-img"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_SPL_DM_SPI=y
+CONFIG_MXL_QSPI=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx640-mxl86249-qspi_nand-manuboot-img_defconfig b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-qspi_nand-manuboot-img_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+# CONFIG_LGM_THERMAL_HIGH_THRESH is not set
+# CONFIG_LGM_THERMAL_LOW_THRESH is not set
+# CONFIG_DM_THERMAL is not set
+# CONFIG_LGM_THERMAL is not set
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (qspi_nand-manuboot-img) ####
+CONFIG_CUSTOMER_TEST_IMG_OFFSET=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_MANUBOOT_IMG_OFFSET=0x200000
+#### NOTE: ROT : automate change BRH and reset CONFIG_FIELD_IMAGE (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else echo \"RoT FAILED!\"; fi"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 ubi.mtd=data,2048 ubi.mtd=log,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+# CONFIG_ETHERNET_ADDRESS is not set
+# CONFIG_ETHERNET_DEVICE is not set
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_QSPI_NAND=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-2022/urx640_rot_mats_engineering/signtool_DUMMY_4204"
+CONFIG_PRIVATE_KEY="../u-boot-dev-2022/urx640_rot_mats_engineering/384-bit_keypair_customer.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-2022/urx640_rot_mats_engineering/256-bit_SBCR_OTP.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-2022/urx640_rot_mats_engineering/feat_cred.bin.delivery"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-2022/urx640_rot_mats_engineering/otp_keyblob.bin.delivery"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-2022/urx640_rot_mats_engineering/384-bit_Certificate_OTP.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-2022/urx640_rot_mats_engineering/cust-img-u-boot-plus-spl-nand.bin"
+## external product field image #
+CONFIG_FIELD_IMAGE="../u-boot-dev-2022/urx640_rot_mats_engineering/field-img-u-boot-plus-spl-nand.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" *** FOR-REFERENCE-ONLY *** octopus-docsis-urx640-mxl86249-qspi_nand-manuboot-img"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+# CONFIG_CMDLINE_EDITING is not set
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_CMD_BOOTM is not set
+# CONFIG_CMD_BOOTZ is not set
+# CONFIG_BOOTM_LINUX is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_CMD_FDT is not set
+# CONFIG_CMD_FIT_LOAD is not set
+# CONFIG_CMD_GO is not set
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+# CONFIG_CMD_ZBOOT is not set
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+# CONFIG_CMD_DM is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_I2C is not set
+# CONFIG_CMD_LOADB is not set
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_CACHE is not set
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_TFTPBOOT is not set
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_PING is not set
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_UBI is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+# CONFIG_NET is not set
+# CONFIG_TFTP_BLOCKSIZE  is not set
+# CONFIG_TFTP_WINDOWSIZE is not set
+# CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS is not set
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_MISC is not set
+# CONFIG_I2C_EEPROM is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+# CONFIG_ETH is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+# CONFIG_LGM_GPHY_FW_SIZE is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_SPL_DM_SPI=y
+CONFIG_MXL_QSPI=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_OF_LIBFDT is not set
+# CONFIG_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_OF_LIBFDT_OVERLAY is not set
+# CONFIG_SPL_OF_LIBFDT is not set
+# CONFIG_SPL_OF_LIBFDT_ASSUME_MASK is not set
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_SPL_WATCHDOG is not set
+# CONFIG_WATCHDOG_TIMEOUT_MSECS is not set
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_SPL_WDT is not set
diff --git a/configs/octopus-docsis-urx640-mxl86249-qspi_nand_defconfig b/configs/octopus-docsis-urx640-mxl86249-qspi_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-mxl86249-qspi_nand_defconfig
@@ -0,0 +1,421 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 ubi.mtd=data,2048 ubi.mtd=log,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-mxl86249-qspi_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_SPL_DM_SPI=y
+CONFIG_MXL_QSPI=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx640-rtl8261-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx640-rtl8261-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-rtl8261-4K-ebu_nand_defconfig
@@ -0,0 +1,436 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x92000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=data,4096 ubi.mtd=log,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver}"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_FS_EXT4=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-rtl8261-4K-ebu_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-docsis-urx640-rtl8261-emmc_defconfig b/configs/octopus-docsis-urx640-rtl8261-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-rtl8261-emmc_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7E000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=n
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+CONFIG_LAN_HSIO_R=n
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-rtl8261-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx640-sec-mxl86249-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx640-sec-mxl86249-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-sec-mxl86249-4K-ebu_nand_defconfig
@@ -0,0 +1,454 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x88000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=data,4096 ubi.mtd=log,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3C00000\0dtb_vol_size=0x80000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_FS_EXT4=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-sec-mxl86249-4K-ebu_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-docsis-urx640-sec-mxl86249-emmc_defconfig b/configs/octopus-docsis-urx640-sec-mxl86249-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-sec-mxl86249-emmc_defconfig
@@ -0,0 +1,485 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x81000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-sec-mxl86249-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx640-sec-mxl86249-qspi_nand_defconfig b/configs/octopus-docsis-urx640-sec-mxl86249-qspi_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-sec-mxl86249-qspi_nand_defconfig
@@ -0,0 +1,446 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,2048 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 ubi.mtd=data,2048 ubi.mtd=log,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="spi-nand0=spi0.1"
+CONFIG_MTDPARTS="mtdparts=spi0.1:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3700000\0dtb_vol_size=0x180000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-sec-mxl86249-qspi_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_SPL_DM_SPI=y
+CONFIG_MXL_QSPI=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx640-sec-rtl8261-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx640-sec-rtl8261-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-sec-rtl8261-4K-ebu_nand_defconfig
@@ -0,0 +1,454 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x8b000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x80000
+CONFIG_UBOOT_PART_SIZE=0x100000
+CONFIG_COPIES_OF_RBE=0x2
+CONFIG_BACKUP_RBE_OFFSET_IN_FLASH=0x180000
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=data,4096 ubi.mtd=log,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:512k(rbe_a),1m(uboot_a),512k(rbe_b),1m(uboot_b),2m(tep_firmware_a),2m(tep_firmware_b),168m(extended_boot),50m(data),30m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part ${env_part} && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && saveenv && \"ENV_A vol created\"; fi; ubi check \"${env_vol_b}\"; if test $? -eq 1; then ubi create \"${env_vol_b}\" ${env_size} && saveenv &&  echo \"ENV_B created\"; fi; ubi check \"${nvram}\"; if test $? -eq 1; then ubi create \"${nvram}\" ${nvram_size} && echo \"nvram created\"; fi; ubi check \"${secure_store}\"; if test $? -eq 1; then ubi create \"${secure_store}\" ${secure_store_size} && echo \"SECURE_STORE created\"; fi; ubi part ${log_part} && ubi check \"${log_part}\"; if test $? -eq 1; then ubi create \"${log_part}\" ${log_part_size} && echo \"LOG vol created\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${kernel_vol_size}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${dtb_vol_size} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${dtb_vol_size}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${rootfs_vol_size}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0kernel_vol_size=0xA00000\0rootfs_vol_size=0x3C00000\0dtb_vol_size=0x80000\0nvram=\'nvram\'\0nvram_size=0x1000000\0secure_store=\'securestore\'\0secure_store_size=0x1000000\0log_part=\'log\'\0log_part_size=0x1000000\0env_part=\'data\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_FS_EXT4=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-sec-rtl8261-4K-ebu_nand"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="data"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=6
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=7
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=8
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=9
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=10
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_LGM_C0_ADEP_ENDIAN_RESOLVED=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+# CONFIG_LAN_HSIO_R is not set
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-docsis-urx640-sec-rtl8261-emmc_defconfig b/configs/octopus-docsis-urx640-sec-rtl8261-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-sec-rtl8261-emmc_defconfig
@@ -0,0 +1,485 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x82000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf uboot_ver=${uboot_ver} swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0kernel_uboot_ver=test -n ${ver} && setexpr uboot_ver gsub \" \" \"_\" \"${ver}\";\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=n
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+CONFIG_XPCS5_USXGMII_RTL8261=y
+CONFIG_LAN_HSIO_R=n
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_VERSION_VARIABLE=y
+CONFIG_LOCALVERSION=" octopus-docsis-urx640-sec-rtl8261-emmc"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run kernel_uboot_ver; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
diff --git a/configs/octopus-docsis-urx640-wan-rtl8261-phy-emmc_defconfig b/configs/octopus-docsis-urx640-wan-rtl8261-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-wan-rtl8261-phy-emmc_defconfig
@@ -0,0 +1,464 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7F000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LAN_HSIO_R=n
+# CONFIG_LAN_HSIO_R_XFI_10G_KR_NO_ANEG=y
+# CONFIG_LAN_HSIO_R_USXGMII_10G is not set
+CONFIG_WAN_XPCS=y
+CONFIG_XFI_10G_KR_NO_ANEG=y
+CONFIG_WAN_XPCS_XFI_10G_KR_NO_ANEG_USXGMII_10G=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-EMMC-WAN-RTL86241"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx640-wan-sfp-phy-emmc_defconfig b/configs/octopus-docsis-urx640-wan-sfp-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx640-wan-sfp-phy-emmc_defconfig
@@ -0,0 +1,465 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus-640"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7F000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_DDR_SCRAMBLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_TOGGLE=y
+CONFIG_SCRAMBLE_BYPASS_REGION_START_LSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_START_MSB=0x0
+CONFIG_SCRAMBLE_BYPASS_REGION_END_LSB=0xFFFFFFFF
+CONFIG_SCRAMBLE_BYPASS_REGION_END_MSB=0xF
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx640_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LAN_HSIO_R=n
+# CONFIG_LAN_HSIO_R_XFI_10G_KR_NO_ANEG=y
+# CONFIG_LAN_HSIO_R_USXGMII_10G is not set
+CONFIG_WAN_XPCS=y
+CONFIG_WAN_SFP=y
+CONFIG_XFI_10G_KR_NO_ANEG=y
+CONFIG_WAN_XPCS_XFI_10G_KR_NO_ANEG_USXGMII_10G=n
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX640-EMMC-WAN-RTL86241"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_SSO_MAX_PINS=24
+CONFIG_SERIAL_SHIFT_LGM_ENABLE_PIN=y
+CONFIG_SERIAL_SHIFT_ENABLE_PIN_NO=37
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=8
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=9
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=7
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=6
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=5
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=4
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=3
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=2
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx641-aqn-phy-emmc_defconfig b/configs/octopus-docsis-urx641-aqn-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-aqn-phy-emmc_defconfig
@@ -0,0 +1,448 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LAN_HSIO_R=y
+CONFIG_LAN_HSIO_R_XFI_10G_KR_NO_ANEG=y
+# CONFIG_LAN_HSIO_R_USXGMII_10G is not set
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-AQN-LAN"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx641-p34x-phy-2G-DDR-emmc_defconfig b/configs/octopus-docsis-urx641-p34x-phy-2G-DDR-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-p34x-phy-2G-DDR-emmc_defconfig
@@ -0,0 +1,453 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx641-p34x-phy-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx641-p34x-phy-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-p34x-phy-4K-ebu_nand_defconfig
@@ -0,0 +1,410 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x81000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf swiotlb=noforce"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),190m(extended_boot),32m(misc),10m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
diff --git a/configs/octopus-docsis-urx641-p34x-phy-emmc_defconfig b/configs/octopus-docsis-urx641-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-p34x-phy-emmc_defconfig
@@ -0,0 +1,451 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs && run addmisc; mmc dev 0 0; load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && load mmc 0#${rootfs_bank} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && wdt dev wdt@e2500000 && wdt start 60000 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; reset"
diff --git a/configs/octopus-docsis-urx641-sec-p34x-phy-2G-DDR-emmc_defconfig b/configs/octopus-docsis-urx641-sec-p34x-phy-2G-DDR-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-sec-p34x-phy-2G-DDR-emmc_defconfig
@@ -0,0 +1,475 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" EMMC-OCTOPUS641-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
+# CONFIG_SHA256 is not set
+# CONFIG_SPL_SHA1 is not set
diff --git a/configs/octopus-docsis-urx641-sec-p34x-phy-4K-ebu_nand_defconfig b/configs/octopus-docsis-urx641-sec-p34x-phy-4K-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-sec-p34x-phy-4K-ebu_nand_defconfig
@@ -0,0 +1,425 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7A000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_MAX_RBE_PER_PART=1
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_vol} = \"kernel_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 ubi.mtd=misc,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf swiotlb=noforce"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(securestore),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_RECOVER_BOOT_IMG="nand read ${loadaddr} rbe_b && nand erase.part rbe_a && nand write ${loadaddr} rbe_a && nand read ${loadaddr} tep_firmware_b && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a && nand read ${loadaddr} uboot_b && nand erase.part uboot_a && nand write ${loadaddr} uboot_a && setenv early_boot valid && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi; "
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; saveenv; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && upgrade ${loadaddr} ${filesize} && run switch_partition && ubi part extended_boot && upgrade ${loadaddr} ${filesize} && run switch_partition && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize} && run switch_partition"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}; run switch_partition"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize} && run switch_partition && ubi part extended_boot && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="octopus_641_10g_lan_eth_nand.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_status=0\0kernel_loglvl=8\0kernel_vol=kernel_a\0rootfs_vol=rootfs_a\0dtb_vol=dtb_a\0active_bank=A\0check_boot_retries=if test ${udt_status} -eq 2; then if test ${recovery_image} -eq 1; then setenv recovery_image 0; if test ${early_boot} = \"upgrade\"; then run recover_early_boot; else run switch_partition; fi; else echo \"bootcount OK\"; fi; fi\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_vol} = \"rootfs_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_vol} = \"rootfs_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_TEP_FLASH_OFFSET=0x180000
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS641-4K_PAGE-EBU_NAND-SECURE_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/octopus-docsis-urx641-sec-p34x-phy-emmc_defconfig b/configs/octopus-docsis-urx641-sec-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-docsis-urx641-sec-p34x-phy-emmc_defconfig
@@ -0,0 +1,473 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=1024
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_EARLYBOOT_STRICT_UPGRADE is not set
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; run set_dtb_bank; run init_env; if test ${image_failure} -eq 0; then echo \"Early Boot from Bank A\"; else echo \"Early Boot from Bank B\"; fi; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test ${image_failure} -ne 0; then setenv image_failure 0; run recover_boot; else run check_upgrade; run flash_flash; reset; fi;"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=1024M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf swiotlb=noforce"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="devicetree/octopus_641.dtb"
+CONFIG_ROOTFS="/image-mb_urx641.rootfs.squashfs"
+CONFIG_FULLIMAGE="image-mb_urx641_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/x86_64_uImage_lzma"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0kernel_loglvl=8\0udt_status=0\0kernel_bank=extended_boot_a\0rootfs_bank=extended_boot_a\0active_bank=A\0check_upgrade=if test ${early_boot} = \"invalid\";then run recover_boot;else if test ${late_boot} = \"invalid\";then run recover_boot;else run check_boot_retries;fi;fi;\0check_boot_retries=if test ${udt_status} -eq 11;then if test ${recovery_image} -eq 1;then setenv recovery_image 0; run recover_boot;else echo \"bootcount OK\"; fi;fi;\0set_dtb_bank=if test ${active_bank} = \"A\"; then setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; else setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; fi\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0check_active_bank=if test ${active_bank} = \"A\"; then if test ${rootfs_bank} = \"extended_boot_b\"; then run switch_to_primary; fi; fi; if test ${active_bank} = \"B\"; then if test ${rootfs_bank} = \"extended_boot_a\"; then run switch_to_secondary; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.22"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" EMMC-OCTOPUS641-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80400
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
+CONFIG_SWITCH_PRIMARY="setenv kernel_bank extended_boot_a; setenv rootfs_bank extended_boot_a; setenv dtb_bank ${dtb_a_block_start}; setenv dtb_bank_size ${dtb_a_block_size}; setenv active_bank A; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_SECONDARY="setenv kernel_bank extended_boot_b; setenv rootfs_bank extended_boot_b; setenv dtb_bank ${dtb_b_block_start}; setenv dtb_bank_size ${dtb_b_block_size}; setenv active_bank B; echo \"Switched to bank ${active_bank}\"; saveenv"
+CONFIG_SWITCH_PARTITION="if test ${active_bank} = \"A\"; then run switch_to_secondary; else run switch_to_primary; fi;"
+CONFIG_RECOVER_BOOT_IMG="mmc dev 0 2 && mmc read ${loadaddr} 0 0x800 && mmc dev 0 1 && mmc write ${loadaddr} 0 0x800; mmc dev 0 0 && mmc read ${loadaddr} ${tep_b_block_start} ${tep_b_block_size} && mmc write ${loadaddr} ${tep_a_block_start} ${tep_a_block_size} && mmc read ${loadaddr} ${uboot_b_block_start} ${uboot_b_block_size} && mmc write ${loadaddr} ${uboot_a_block_start} ${uboot_a_block_size} && setenv early_boot 'valid' && saveenv; if test $? -eq 0; then echo \"Early boot Recovery success!\"; else echo \"Failed to recover early boot\"; fi;"
+CONFIG_RECOVER_BOOT_ALL_IMG="if test ${udt_status} -eq 10;then reset;else if test ${early_boot} != \"valid\";then run recover_early_boot;fi;if test ${late_boot} != \"valid\";then run switch_partition;setenv late_boot 'valid';fi;setenv udt_status 10;saveenv;reset;fi;"
+CONFIG_FLASH_FLASH="run check_active_bank; run flashargs; run addmisc; mmc dev 0 0; load mmc 0#${rootfs_bank} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_bank} ${dtb_bank_size} && auth 4 ${dtb_loadaddr} ${dtb_bank_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${kernel_bank} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x400 && if test ${kernel_bank} = \"extended_boot_a\"; then echo \"Late Boot from Bank A\"; else echo \"Late Boot from Bank B\"; fi; bootm ${kernel_loadaddr} - ${dtb_loadaddr};reset"
diff --git a/configs/octopus-urx641-aqn-phy-emmc_defconfig b/configs/octopus-urx641-aqn-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-aqn-phy-emmc_defconfig
@@ -0,0 +1,439 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upgrade; && run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage}; cp.b ${loadaddr} 0x40000000 ${filesize}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize} && mmc dev 0 0; setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=1716000"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LAN_HSIO_R=y
+CONFIG_LAN_HSIO_R_XFI_10G_KR_NO_ANEG=y
+# CONFIG_LAN_HSIO_R_USXGMII_10G is not set
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx641-emmc-cust-img_defconfig b/configs/octopus-urx641-emmc-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-emmc-cust-img_defconfig
@@ -0,0 +1,445 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : Not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x32000) - iBRH (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+#### NOTE: ROT : automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=1716000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-CUSTOMER_TEST_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx641-emmc-field-img_defconfig b/configs/octopus-urx641-emmc-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-emmc-field-img_defconfig
@@ -0,0 +1,464 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && auth 4 ${dtb_loadaddr} ${dtb_a_block_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=1716000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx641-emmc-manuboot-img_defconfig b/configs/octopus-urx641-emmc-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-emmc-manuboot-img_defconfig
@@ -0,0 +1,477 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_WDT_TIMEOUT_VALUE is not set
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+# CONFIG_LGM_THERMAL_HIGH_THRESH is not set
+# CONFIG_LGM_THERMAL_LOW_THRESH is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else echo \"RoT FAILED!\"; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=1716000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+# CONFIG_NET is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_PING is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_EXTERNAL_P34X_ATTACHED is not set
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+CONFIG_SIGNTOOL="../u-boot-dev-2022/urx641_rot_mats_productive/signtool_v3.9.0.6_URX800_B0_Production_RoTcode_v1.9.bin"
+CONFIG_PRIVATE_KEY="../u-boot-dev-2022/urx641_rot_mats_productive/384-bit_keypair_customer_productive.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-2022/urx641_rot_mats_productive/sbcr_otp.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-2022/urx641_rot_mats_productive/feature_credential.bin"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-2022/urx641_rot_mats_productive/otp_keyblob_v1_91_productive.bin"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-2022/urx641_rot_mats_productive/certificate_otp.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-2022/urx641_rot_mats_productive/cust-img-u-boot-plus-spl-emmc.bin"
+## external product spl field image (signed) entry #
+CONFIG_FIELD_IMAGE="../u-boot-dev-2022/urx641_rot_mats_productive/field-img-spl-emmc.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-MANUBOOT-PRODUCTIVE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+# CONFIG_SPL_WATCHDOG is not set
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+# CONFIG_CMD_FIT_LOAD is not set
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_CACHE is not set
+# CONFIG_CMD_SLEEP is not set
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_WATCHDOG is not set
+# CONFIG_CMD_UPGRADE is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+# CONFIG_DM_THERMAL is not set
+# CONFIG_LGM_THERMAL is not set
+# CONFIG_FDT_OVERLAY_SUPPORT is not set
+# CONFIG_CMD_USB is not set
+# CONFIG_DOS_PARTITION is not set
+# CONFIG_CMD_DM is not set
+# CONFIG_USB is not set
+# CONFIG_SPL_DM_USB is not set
+# CONFIG_DM_USB is not set
+# CONFIG_USB_HOST is not set
+# CONFIG_USB_XHCI_HCD is not set
+# CONFIG_USB_XHCI_PCI is not set
+# CONFIG_USB_XHCI_MXL is not set
+# CONFIG_USB_STORAGE is not set
\ No newline at end of file
diff --git a/configs/octopus-urx641-p34x-phy-4K-page-ebu_nand_defconfig b/configs/octopus-urx641-p34x-phy-4K-page-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-p34x-phy-4K-page-ebu_nand_defconfig
@@ -0,0 +1,399 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && nand erase.part tep_firmware_a && nand write ${loadaddr} tep_firmware_a ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/octopus-urx641-p34x-phy-emmc_defconfig b/configs/octopus-urx641-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-p34x-phy-emmc_defconfig
@@ -0,0 +1,439 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upg_req;run check_commit_req; run check_img_activate; run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=1716000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx641-p34x-phy-qspi-nand_defconfig b/configs/octopus-urx641-p34x-phy-qspi-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-p34x-phy-qspi-nand_defconfig
@@ -0,0 +1,293 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_SPL_DM_SPI=y
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SPL_SPI_FLASH_SUPPORT=y
+CONFIG_SPL_SPI=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+#CONFIG_BOARD_ANYWAN_LIGHTNING=y
+#CONFIG_LGM_LPDDR4=y
+#CONFIG_LGM_FREQ_3733M=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x33000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_SYS_NAND_PAGE_SIZE=0x800
+CONFIG_SYS_NAND_BLOCK_SIZE=0x20000
+CONFIG_BOOTCOMMAND="run ubi_init ; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_temp_loadaddr} ${dtb_vol}; fit ${dtb_temp_loadaddr} ${dtb_loadaddr}; bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,2048 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver}"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp 0x81fffc0 ${u-boot}; mtd erase spi-nand0 0 0x100000; mtd write spi-nand0 0x8200000 0 0x100000; mtd read spi-nand0 0x9200000 0 0x100000; if cmp.b 0x8200000 0x9200000 0x100000; then reset; else run update_uboot; fi"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0cpu_freq=1716000\0dtb_temp_loadaddr=0x7800000"
+CONFIG_DEBUG_UART=y
+CONFIG_ATOM=y
+# CONFIG_DEBUG_SIMPLIFY is not set
+CONFIG_SMP_CORES=0x2
+#CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_QSPI_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+# CONFIG_AHCI is not set
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX641-QSPI_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_QSPI_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SPL_MTD_SUPPORT=y
+CONFIG_SPL_DM_SPI_FLASH=y
+CONFIG_SPL_SPI_FLASH_MTD=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+# CONFIG_CMD_UPGRADE is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+# CONFIG_CMD_FLASH is not set
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+CONFIG_CMD_MTD=y
+# CONFIG_CMD_PCI is not set
+# CONFIG_CMD_SF is not set
+CONFIG_CMD_SPI=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+CONFIG_MTDIDS_DEFAULT="spi-nand0=spi0.1"
+CONFIG_MTDPARTS_DEFAULT="mtdparts=spi0.1:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_DM_STDIO is not set
+# CONFIG_REGMAP is not set
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+# CONFIG_DM_MMC is not set
+CONFIG_MTD=y
+CONFIG_DM_MTD=y
+CONFIG_MTD_SPI_NAND=y
+CONFIG_MXL_SPI_NAND=y
+CONFIG_DM_SPI_FLASH=y
+CONFIG_RAW_NAND_OOB_COMPATIBLE=y
+CONFIG_SF_DEFAULT_BUS=0
+CONFIG_SF_DEFAULT_CS=1
+CONFIG_SPI_FLASH_SOFT_RESET=y
+# CONFIG_SPI_FLASH_BAR is not set
+CONFIG_SPI_FLASH_MACRONIX=y
+CONFIG_SPI_FLASH_MTD=y
+CONFIG_MTD_UBI=y
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_MXL_SERIAL=y
+CONFIG_SPI=y
+CONFIG_DM_SPI=y
+CONFIG_MXL_QSPI=y
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+CONFIG_LZMA=y
+# CONFIG_EFI is not set
+# CONFIG_EFI_LOADER is not set
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_I2C=y
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_SPL_UBI is not set
+CONFIG_FIT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_OF_LIBFDT_OVERLAY=y
diff --git a/configs/octopus-urx641-sec-aqn-phy-emmc_defconfig b/configs/octopus-urx641-sec-aqn-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-sec-aqn-phy-emmc_defconfig
@@ -0,0 +1,466 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x84000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && auth 4 ${dtb_loadaddr} ${dtb_a_block_size} && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=1716000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+# CONFIG_LGM_P34X_SUPPORT is not set
+CONFIG_LAN_HSIO_R=y
+CONFIG_LAN_HSIO_R_XFI_10G_KR_NO_ANEG=y
+# CONFIG_LAN_HSIO_R_USXGMII_10G is not set
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx641-sec-p34x-phy-4K-page-ebu-nand_defconfig b/configs/octopus-urx641-sec-p34x-phy-4K-page-ebu-nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-sec-p34x-phy-4K-page-ebu-nand_defconfig
@@ -0,0 +1,425 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${rootfs_loadaddr} ${rootfs_vol} && auth 5 ${rootfs_loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${rootfs_a_filesize} && ubi read ${dtb_loadaddr} ${dtb_vol} && auth 4 ${dtb_loadaddr} dtb_a_filesize && run set_cma_size && ubi read ${kernel_loadaddr} ${kernel_vol} && auth 4 0x8200040 kernel_a_filesize && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} ${mtdparts} maxcpus=2 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\" && ubi remove \"${env_vol_b}\"; ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size};"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x5000000
+CONFIG_ROOTFS_B_SIZE=0x5000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=1716000\0env_size=0x80000\0env_part=\'misc\'\0env_vol_a=\'env_a\'\0env_vol_b=\'env_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_TEP_FLASH_OFFSET=0x180000
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+CONFIG_LGM_SECURE_UART=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" OCTOPUS641-4K_PAGE-EBU_NAND-SECURE_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="env_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="env_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_SERIAL_SHIFT_LGM=y
+
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/octopus-urx641-sec-p34x-phy-emmc_defconfig b/configs/octopus-urx641-sec-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx641-sec-p34x-phy-emmc_defconfig
@@ -0,0 +1,464 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && auth 4 ${dtb_loadaddr} ${dtb_a_block_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=1716000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_EXTERNAL_P34X_ATTACHED=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x2
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX641-EMMC-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx851-emmc-cust-img_defconfig b/configs/octopus-urx851-emmc-cust-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-emmc-cust-img_defconfig
@@ -0,0 +1,445 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : Not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+#### NOTE: ROT : CUSTOMER_TEST_IMAGE ####
+## NOTE: CUSTOMER_TEST_IMG_OFFSET (0x80000) + CONFIG_SPL_PAD_SIZE (0x32000) - iBRH (0x800) ##
+CONFIG_CUSTOMER_TEST_IMG_BUILD=y
+#### NOTE: ROT : automate change iBRH and reset CUSTOMER_TEST_IMAGE (update_rot_hdr) ####
+CONFIG_BOOTCOMMAND="run update_rot_hdr; reset"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC-CUSTOMER_TEST_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_LGM_SUPPORT_DTB_OVERLAY=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx851-emmc-field-img_defconfig b/configs/octopus-urx851-emmc-field-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-emmc-field-img_defconfig
@@ -0,0 +1,463 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7F000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && auth 4 ${dtb_loadaddr} ${dtb_a_block_size} && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC-SECURE_PRODUCT_FIELD_IMAGE-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx851-emmc-manuboot-img_defconfig b/configs/octopus-urx851-emmc-manuboot-img_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-emmc-manuboot-img_defconfig
@@ -0,0 +1,476 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x20000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xBFF00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+# CONFIG_WDT is not set
+# CONFIG_WDT_LGM is not set
+# CONFIG_WDT_TIMEOUT_VALUE is not set
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+#### NOTE: ROT : not using user partition ####
+# CONFIG_UBOOT_IN_USER_PART is not set
+CONFIG_MAX_RBE_PER_PART=4
+# CONFIG_LGM_THERMAL_PROTECTION is not set
+# CONFIG_LGM_THERMAL_HIGH_THRESH is not set
+# CONFIG_LGM_THERMAL_LOW_THRESH is not set
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=1
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+## NOTE: ROT Process: automate change iBRH and reset ##
+#### NOTE: ROT : CONFIG_MANUBOOT (update_fieldimg_hdr) ####
+CONFIG_BOOTCOMMAND="mw.l 0 0; if cmp.l 0 e0180094 1; then run update_fieldimg_hdr; reset; else echo \"RoT FAILED!\"; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+# CONFIG_NET is not set
+# CONFIG_CMD_NET is not set
+# CONFIG_CMD_PING is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_NETDEVICES is not set
+# CONFIG_LIGHTNING_MOUNTAIN_ETH is not set
+# CONFIG_LGM_P34X_SUPPORT is not set
+# CONFIG_IP_ADDRESS is not set
+# CONFIG_SERVER_IP_ADDRESS is not set
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+# CONFIG_ASSERT_FIREWALL_RULES is not set
+# CONFIG_ENABLE_IA_VMM_SWITCH is not set
+# CONFIG_TEP_PKG is not set
+CONFIG_BOOT_FROM_EMMC=y
+## MANUBOOT (RoT) IMAGE SOCMODE = 1 ##
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_MANUBOOT=y
+CONFIG_MANUBOOT_OTP_CREDENTIAL_SUPPORT=y
+CONFIG_MANUBOOT_OTP_KEYBLOB_SUPPORT=y
+# v3.9 #
+CONFIG_SIGNTOOL="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/signtool_v3.9.0.6_URX800_B0_Production_RoTcode_v1.9"
+CONFIG_PRIVATE_KEY="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/384-bit_keypair_customer_productive.der"
+CONFIG_MANUBOOT_OTP_SBCROTP_KEY="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/sbcr_otp.bin"
+CONFIG_MANUBOOT_OTP_CREDENTIAL="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/feature_credential.bin"
+CONFIG_MANUBOOT_OTP_KEYBLOB="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/otp_keyblob_v1_91_productive.bin"
+CONFIG_MANUBOOT_OTP_CERT="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/certificate_otp.bin"
+## external customer test image #
+CONFIG_CUSTOMER_TEST_IMAGE="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/cust-img-u-boot-plus-spl-emmc.bin"
+## external product spl field image (signed) entry #
+CONFIG_FIELD_IMAGE="../u-boot-dev-2022/ext_signing_emmc_rot_productive_for_urx851/field-img-spl-emmc.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+# CONFIG_ROLLBACKID_SUPPORT is not set
+# CONFIG_ROLLBACKID_VALUE is not set
+# CONFIG_CERTIFICATION_SUPPORT is not set
+# CONFIG_CERTIFICATION is not set
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC-MANUBOOT-ENGINEERING-FOR-REFERENCE-ONLY"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+# CONFIG_FIT is not set
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+# CONFIG_SPL_WATCHDOG is not set
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+# CONFIG_CMD_FIT_LOAD is not set
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+# CONFIG_CMD_CACHE is not set
+# CONFIG_CMD_SLEEP is not set
+# CONFIG_CMD_AUTH is not set
+# CONFIG_CMD_ICC is not set
+# CONFIG_CMD_IA_SWITCH is not set
+# CONFIG_CMD_WATCHDOG is not set
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_NOWHERE=y
+# CONFIG_ENV_IS_IN_MMC is not set
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+# CONFIG_DM_GPIO is not set
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+# CONFIG_FLEXI_RBID is not set
+# CONFIG_COMPATIBILITY_VER is not set
+# CONFIG_DM_THERMAL is not set
+# CONFIG_LGM_THERMAL is not set
+# CONFIG_FDT_OVERLAY_SUPPORT is not set
+# CONFIG_CMD_USB is not set
+# CONFIG_DOS_PARTITION is not set
+# CONFIG_CMD_DM is not set
+# CONFIG_USB is not set
+# CONFIG_SPL_DM_USB is not set
+# CONFIG_DM_USB is not set
+# CONFIG_USB_HOST is not set
+# CONFIG_USB_XHCI_HCD is not set
+# CONFIG_USB_XHCI_PCI is not set
+# CONFIG_USB_XHCI_MXL is not set
+# CONFIG_USB_STORAGE is not set
\ No newline at end of file
diff --git a/configs/octopus-urx851-p34x-phy-4K-page-ebu_nand_defconfig b/configs/octopus-urx851-p34x-phy-4K-page-ebu_nand_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-p34x-phy-4K-page-ebu_nand_defconfig
@@ -0,0 +1,398 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_SPL_LIBCOMMON_SUPPORT=y
+CONFIG_SPL_LIBGENERIC_SUPPORT=y
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_DRIVERS_MISC=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x80000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_DDR4=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_MAX_RBE_PER_PART=1
+CONFIG_SPL_PAD_SIZE=0x40000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_NAND_FLASH_MXL_256M=y
+CONFIG_NAND_FLASH_SIZE=256
+CONFIG_PREBOOT="echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run ubi_init; run flashargs addmisc; ubi read ${kernel_loadaddr} ${kernel_vol}; ubi read ${dtb_loadaddr} ${dtb_vol}; fit_load ${dtb_loadaddr} ${dtb_loadaddr} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_NFS_ARGS="setenv bootargs ubi.mtd=extended_boot,4096 root=/dev/nfs rw nfsroot=${serverip}:${rootpath}"
+CONFIG_RAMARGS="setenv bootargs root=/dev/ram rw init=/init"
+CONFIG_FLASHARGS="setenv bootargs ubi.mtd=extended_boot,4096 gluebi.rootfsname=${rootfs_vol} rootfstype=squashfs"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} ${mtdparts} maxcpus=4 mem=2048M memmap=31M$1M initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_MTDIDS="nand0=e0f00000.nand-controller"
+CONFIG_MTDPARTS="mtdparts=e0f00000.nand-controller:256k(rbe_a),512k(uboot_a),256k(rbe_b),512k(uboot_b),1m(tep_firmware_a),1m(tep_firmware_b),128m(extended_boot),64m(misc),16m(log),-(res)"
+CONFIG_RESET_UBOOT_CONFIG="ubi part ${env_part} && ubi remove \"${env_vol_a}\"; ubi remove \"${env_vol_b}\";"
+CONFIG_SWITCH_PRIMARY="setenv kernel_vol kernel_a; setenv rootfs_vol rootfs_a; setenv dtb_vol dtb_a"
+CONFIG_SWITCH_SECONDARY="setenv kernel_vol kernel_b; setenv rootfs_vol rootfs_b; setenv dtb_vol dtb_b"
+CONFIG_UPGRADE_FS_INIT="ubi part misc && ubifsmount ubi1:${upgrade_volume}"
+CONFIG_UBI_INIT="ubi part ${env_part} && ubi check \"${env_vol_a}\"; if test $? -eq 1; then ubi create \"${env_vol_a}\" ${env_size} && ubi create \"${env_vol_b}\" ${env_size}; else echo \"ENV already exist\"; fi; ubi part extended_boot;"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftpboot ${loadaddr} ${tftppath}${fullimage} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && if true; then ubi remove rootfs_data; ubi create rootfs_data 1000000; fi"
+CONFIG_UPDATE_KERNEL="tftpboot ${loadaddr} ${tftppath}${bootfile} && run ubi_init && ubi remove ${kernel_vol} ; ubi create ${kernel_vol} ${filesize}; ubi write ${loadaddr} ${kernel_vol} ${filesize}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && run ubi_init && ubi remove ${dtb_vol} ; ubi create ${dtb_vol} ${filesize}; ubi write ${loadaddr} ${dtb_vol} ${filesize}"
+CONFIG_UPDATE_ROOTFS="tftpboot ${loadaddr} ${tftppath}${rootfs} && run ubi_init && ubi remove ${rootfs_vol} ; ubi create ${rootfs_vol} ${filesize}; ubi write ${loadaddr} ${rootfs_vol} ${filesize}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-nand.bin"
+CONFIG_RBE_BINARY="u-boot-spl-nand.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-nand.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && run ubi_init && setenv select_partition primary && upgrade ${loadaddr} ${filesize}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_EXTRA_ENV_DATA="cpu_freq=2028000\0env_size=0x40000\0env_part=\'misc\'\0env_vol_a=\'ubootconfig_a\'\0env_vol_b=\'ubootconfig_b\'\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0kernel_loglvl=4\0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_ATOM=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_NAND_SPL_TEXT_BASE=0xBFF20000
+CONFIG_BOOT_FROM_NAND=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_USE_CAR=y
+CONFIG_LOCALVERSION=" URX851-4K_PAGE-EBU_NAND-OPEN_BOOT"
+CONFIG_LOCALVERSION_AUTO=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CC_HAS_ASM_INLINE=y
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-nand.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_NAND_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=0
+CONFIG_SPL_LOGLEVEL=0
+CONFIG_TPL_LOGLEVEL=0
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_HASH=y
+CONFIG_SUPPORT_SPL=y
+# CONFIG_SPL_FRAMEWORK is not set
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+# CONFIG_SPL_SPI is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_NAND_SUPPORT=y
+CONFIG_SPL_NAND_DRIVERS=y
+CONFIG_CMDLINE=y
+CONFIG_HUSH_PARSER=y
+CONFIG_CMDLINE_EDITING=y
+# CONFIG_AUTO_COMPLETE is not set
+# CONFIG_SYS_LONGHELP is not set
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_PROMPT_HUSH_PS2="> "
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONFIG is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_CMD_LICENSE is not set
+# CONFIG_CMD_PMC is not set
+# CONFIG_CMD_BOOTD is not set
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTZ is not set
+CONFIG_BOOTM_LINUX=y
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_CMD_UPGRADE=y
+# CONFIG_CMD_BOOTMENU is not set
+# CONFIG_CMD_ADTIMG is not set
+# CONFIG_CMD_ELF is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+# CONFIG_CMD_IMI is not set
+# CONFIG_CMD_IMLS is not set
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_ZBOOT=y
+# CONFIG_CMD_ASKENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_GREPENV is not set
+CONFIG_CMD_SAVEENV=y
+# CONFIG_CMD_ERASEENV is not set
+CONFIG_CMD_CRC32=y
+CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=0
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_DM=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_I2C=y
+CONFIG_CMD_LOADB=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_MTD is not set
+# CONFIG_CMD_FLASH is not set
+# CONFIG_CMD_IO is not set
+CONFIG_CMD_NAND=y
+CONFIG_CMD_NAND_LOCK_UNLOCK=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+# CONFIG_CMD_SOURCE is not set
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_NET=y
+# CONFIG_CMD_BOOTP is not set
+CONFIG_CMD_TFTPBOOT=y
+CONFIG_NET_TFTP_VARS=y
+# CONFIG_CMD_NFS is not set
+CONFIG_CMD_PING=y
+CONFIG_CMD_LED=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_MTDPARTS=y
+# CONFIG_CMD_DATE is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_MTDPARTS_SPREAD is not set
+# CONFIG_CMD_MTDPARTS_SHOW_NET_SIZES is not set
+CONFIG_MTDIDS_DEFAULT=""
+CONFIG_MTDPARTS_DEFAULT=""
+# CONFIG_CMD_IRQ is not set
+CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
+# CONFIG_PARTITIONS is not set
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_UBI=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_UBI_PART="misc"
+CONFIG_ENV_UBI_VOLUME="ubootconfig_a"
+CONFIG_ENV_UBI_VOLUME_REDUND="ubootconfig_b"
+CONFIG_ENV_UBI_VID_OFFSET=0
+CONFIG_NET=y
+CONFIG_TFTP_BLOCKSIZE=1468
+CONFIG_TFTP_WINDOWSIZE=1
+CONFIG_SERVERIP_FROM_PROXYDHCP_DELAY_MS=100
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+# CONFIG_REGMAP is not set
+# CONFIG_DM_WARN is not set
+# CONFIG_DM_STDIO is not set
+# NFIG_DM_SEQ_ALIAS is not set
+CONFIG_SYSCON=y
+# CONFIG_SPL_SYSCON is not set
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+CONFIG_DM_DEV_READ_INLINE=y
+# CONFIG_SPL_REGMAP is not set
+# CONFIG_SPL_BLK is not set
+# CONFIG_BLOCK_CACHE is not set
+# CONFIG_AHCI is not set
+# CONFIG_ACPIGEN is not set
+# CONFIG_INPUT is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_IRQ is not set
+# CONFIG_DM_MMC is not set
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_MTD_PARTITIONS=y
+CONFIG_MTD=y
+CONFIG_MTD_RAW_NAND=y
+CONFIG_SYS_NAND_USE_FLASH_BBT=y
+CONFIG_NAND_FLASH_MXL=y
+CONFIG_NAND_EBU_MXL=y
+CONFIG_MXL_HW_BCH=y
+CONFIG_8BITS_BCH_ECC=y
+CONFIG_BCH_ECC_STRENGTH=3
+CONFIG_SYS_NAND_BLOCK_SIZE=0x40000
+CONFIG_SYS_NAND_PAGE_SIZE=0x1000
+CONFIG_SYS_NAND_OOBSIZE=128
+CONFIG_SYS_NAND_ONFI_DETECTION=y
+CONFIG_SYS_NAND_MAX_CHIPS=1
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_WL_THRESHOLD=4096
+CONFIG_MTD_UBI_BEB_LIMIT=20
+CONFIG_ETH=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_LGM_GPHY_FW_SIZE=0x10000
+# CONFIG_PCI is not set
+# CONFIG_PCH is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+CONFIG_SPL_PINCTRL=y
+CONFIG_SPL_PINCTRL_FULL=y
+CONFIG_SPL_PINCTRL_GENERIC=y
+CONFIG_SPL_PINMUX=y
+CONFIG_SPL_PINCONF_RECURSIVE=y
+# CONFIG_POWER is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_SYSINFO is not set
+# CONFIG_SYSRESET is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+# CONFIG_CONSOLE_MUX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_TSC_TIMER=y
+# CONFIG_DM_VIDEO is not set
+# CONFIG_HAVE_ARCH_IOMAP is not set
+# CONFIG_SYS_WHITE_ON_BLACK is not set
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+CONFIG_REGEX=y
+CONFIG_RBTREE=y
+CONFIG_SPL_PAYLOAD="u-boot-nand.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-nand.bin"
+CONFIG_CRC32=y
+CONFIG_LZMA=y
+CONFIG_LZO=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+# CONFIG_EFI_LOADER is not set
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
diff --git a/configs/octopus-urx851-p34x-phy-emmc-firewall-on_defconfig b/configs/octopus-urx851-p34x-phy-emmc-firewall-on_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-p34x-phy-emmc-firewall-on_defconfig
@@ -0,0 +1,437 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7C000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="run flashargs && mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_temp_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && fit ${dtb_temp_loadaddr} ${dtb_loadaddr} && run set_cma_size && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && run launch_tep && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && run addmisc && bootm ${kernel_loadaddr} - ${dtb_loadaddr}"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=8 intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver}"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size}; mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size}; tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="tep_fw=tep_fw.bin\0launch_tep=tftp 0x1000000 ${tftppath}${tep_fw}; if test $? -eq 0; then mw.l e00c00ec 0xc; mw.l 0xe00c00e8 0x1000000; mw.l 0xe00c0128 1; sleep 2; else echo \"TEP binary not found\";fi\0load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0bootloader=u-boot.lzimg\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary  && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0dtb_temp_loadaddr=0x7800000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC_FIREWALL_ON-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_XTRACE=y
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_EDITENV=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_GPT_RENAME=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+# CONFIG_CMD_AUTH is not set
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx851-p34x-phy-emmc_defconfig b/configs/octopus-urx851-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-p34x-phy-emmc_defconfig
@@ -0,0 +1,439 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x80000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7B000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; echo run \"bootcmd\" to bring up the kernel; echo;"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else run check_upg_req;run check_commit_req; run check_img_activate; run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && fit_load ${dtb_loadaddr} ${dtb_loadaddr} && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="recover_image=mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${kernel_loadaddr} ${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && mmc dev 0 1; setenv select_partition secondary; load mmc 0#${fs_part_b} ${loadaddr} ${rootfs} && mmc dev 0 0; setenv select_partition primary ; save mmc 0#${fs_part_a} ${loadaddr} ${rootfs} ${filesize}; setenv rootfs_a_filesize ${filesize} && mmc dev 0 0; setenv select_partition secondary;mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && mmc dev 0 0; setenv select_partition primary;mmc write ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv udt_status 4; saveenv;\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 2; then run recover_image ; elif test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0cpu_freq=2028000\0copybankA2B=mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && setenv select_partition  secondary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition primary; load mmc 0:9 ${loadaddr} ${rootfs} && setenv select_partition secondary; save mmc 0:A ${loadaddr} ${rootfs} ${filesize} && setenv select_partition primary; mmc read  ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && setenv select_partition secondary;mmc write ${dtb_loadaddr}  ${dtb_b_block_start} ${dtb_b_block_size}\0copybankB2A=mmc dev 0 0; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && setenv select_partition primary; upgrade \"${loadaddr}\" \"${filesize}\" && setenv select_partition secondary; load mmc 0:A ${loadaddr} ${rootfs} && setenv select_partition primary ; save mmc 0:9 ${loadaddr} ${rootfs} ${filesize} && setenv select_partition secondary; mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && setenv select_partition primary;mmc write ${dtb_loadaddr}  ${dtb_a_block_start} ${dtb_a_block_size}\0upgradeA=setenv img_validA 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 0; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\";if test $? -eq 0; then setenv img_validA 1; saveenv; fi; fi;\0upgradeB=setenv img_validB 0; saveenv;ext4load mmc 0:f 0x8200000 \"${udt_file}\"; if test $? -eq 1; then echo \"upgrade file not found\"; setenv udt_status 4; saveenv;fi; if test \"${udt_status}\" -ne 4; then mmc dev 0 1; load mmc 0:f 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv img_validB 1; saveenv;fi;\0image_type=2\0overwrite_active_bank=0\0img_commit_backup=0\0active_bank=A\0img_activate=NA\0commit_bank=A\0img_versionA=verA\0img_versionB=verB\0img_validA=1\0img_validB=1\0check_upg_req=if test \"${udt_status}\" -eq 1; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; run upgradeA; fi; else if test \"${active_bank}\" = \"A\"; then run upgradeB; else run upgradeA; fi; setenv udt_status 3; saveenv; fi; elif test \"${image_type}\" -eq 1; then if test \"${img_commit_backup}\" -eq 1; then if test \"${active_bank}\" = \"A\"; then run copybankA2B; else run copybankB2A; fi; fi;  setenv commit_bank A; saveenv;run upgradeA; else run upgradeA; setenv commit_bank A;setenv udt_status 2; saveenv; fi; fi;\0loadbootA=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0:9 ${kernel_loadaddr} ${bootfile} && load mmc 0:9 ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0loadbootB=run flashargs && run addmisc; mmc dev 0 1; setenv select_partition secondary; load mmc 0:A ${kernel_loadaddr} ${bootfile} && load mmc 0:A ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_b_block_start} ${dtb_b_block_size} && bootm ${kernel_loadaddr} - ${dtb_loadaddr};\0check_img_activate=if test \"${img_activate}\" != \"NA\"; then if test \"${image_type}\" -eq 0; then if test \"${img_activate}\" = \"A\"; then setenv active_bank A; setenv img_activate NA; saveenv; run loadbootA; else setenv active_bank B; setenv img_activate NA; saveenv; run loadbootB; fi; else run loadbootA; fi; setenv img_activate NA; saveenv; elif test \"${commit_bank}\" != \"${active_bank}\"; then if test \"${image_type}\" -eq 0; then if test \"${commit_bank}\" = \"A\"; then setenv active_bank A; saveenv; run loadbootA; else setenv active_bank B; saveenv; run loadbootB; fi; else setenv commit_bank A; saveenv; run loadbootA; fi; else if test \"${commit_bank}\" = \"A\"; then echo booting bankA;run loadbootA; else echo booting bankB; run loadbootB; fi; fi;\0check_commit_req=if test \"${udt_status}\" -eq 5; then if test \"${image_type}\" -eq 0; then if test \"${overwrite_active_bank}\" -eq 1; then setenv img_commit_backup 1; saveenv; fi; elif test \"${image_type}\" -eq 1; then setenv img_commit_backup 1; saveenv; else run copybankA2B; setenv udt_status 6; saveenv; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=13
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=512k;name=env_b,size=512k;name=extended_boot_a,size=112M;name=extended_boot_b,size=112M;name=securestore,size=16M;name=nvram,size=16M;name=log,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC-OPEN_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_SYS_LONGHELP=y
+CONFIG_CMD_BOOTM=y
+CONFIG_CMD_LOADB=y
+CONFIG_RECOVER_PRIMARY_IMG="run overwrite_new_img; run reset_uboot_config; reset"
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=60000
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_CMD_GPT_RENAME is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_LGM_SUPPORT_DTB_OVERLAY=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
diff --git a/configs/octopus-urx851-sec-p34x-phy-emmc_defconfig b/configs/octopus-urx851-sec-p34x-phy-emmc_defconfig
new file mode 100644
--- /dev/null
+++ b/configs/octopus-urx851-sec-p34x-phy-emmc_defconfig
@@ -0,0 +1,461 @@
+CONFIG_CREATE_ARCH_SYMLINK=y
+CONFIG_SYS_CACHE_SHIFT_6=y
+CONFIG_SYS_CACHELINE_SIZE=64
+CONFIG_LINKER_LIST_ALIGN=8
+CONFIG_X86=y
+CONFIG_SYS_ARCH="x86"
+CONFIG_SYS_CPU="atom"
+CONFIG_SYS_SOC="lightning"
+CONFIG_SYS_VENDOR="maxlinear"
+CONFIG_SYS_BOARD="lightning"
+CONFIG_SYS_CONFIG_NAME="lightning_mountain"
+CONFIG_SPL_LDSCRIPT="board/$(BOARDDIR)/u-boot-spl.lds"
+CONFIG_SYS_TEXT_BASE=0x08200000
+CONFIG_SYS_MALLOC_LEN=0x8000000
+CONFIG_SYS_MALLOC_F_LEN=0x1000
+CONFIG_SPL_GPIO=y
+CONFIG_BOARD_SPECIFIC_OPTIONS=y
+CONFIG_ENV_SIZE=0x40000
+CONFIG_DEFAULT_DEVICE_TREE="octopus"
+CONFIG_SPL_TEXT_BASE=0xBFF20000
+CONFIG_SPL_MMC=y
+CONFIG_SPL_SERIAL=y
+CONFIG_SPL_SYS_MALLOC_F_LEN=0x1000
+CONFIG_NR_DRAM_BANKS=1
+CONFIG_ERR_PTR_OFFSET=0x0
+CONFIG_SPL_SIZE_LIMIT=0x60000
+CONFIG_SPL_SIZE_LIMIT_PROVIDE_STACK=0
+CONFIG_SPL=y
+CONFIG_X86_RUN_32BIT=y
+# CONFIG_AHCI is not set
+CONFIG_URX851_SOC=y
+CONFIG_LIGHTNING_MOUNTAIN_SOC=y
+CONFIG_UBOOT_RAM=y
+CONFIG_VENDOR_MAXLINEAR=y
+CONFIG_SYS_CAR_ADDR=0xECD00000
+CONFIG_SYS_CAR_SIZE=0x80000
+CONFIG_TARGET_LIGHTNING_MOUNTAIN=y
+CONFIG_LGM_U_BOOT_SIZE=0x7F000
+CONFIG_DRIVER_LIGHTNING=y
+CONFIG_ROC_VOLTAGE=0x3D
+CONFIG_CMD_WATCHDOG=y
+CONFIG_SPL_WATCHDOG=y
+CONFIG_WATCHDOG_TIMEOUT_MSECS=180000
+CONFIG_WDT=y
+CONFIG_WDT_LGM=y
+CONFIG_SPL_WDT=y
+CONFIG_PMIC_CONFIGURATIONS=y
+CONFIG_ROHM_PMIC=y
+CONFIG_LIGHTNING_B0=y
+CONFIG_BOARD_OCTOPUS=y
+CONFIG_LGM_MEM_SIZE=2048
+CONFIG_LGM_DDR4=y
+CONFIG_LGM_FREQ_3200M=y
+CONFIG_CUSTOMIZED_DDR_HEADER=y
+CONFIG_MICRON_DDR=y
+CONFIG_DDR_RANK=2
+CONFIG_DDR_RANK_DEPTH=512
+CONFIG_DDR_RANK_WIDTH=16
+CONFIG_UBOOT_IN_USER_PART=y
+CONFIG_MAX_RBE_PER_PART=4
+CONFIG_LGM_THERMAL_PROTECTION=y
+CONFIG_LGM_THERMAL_HIGH_THRESH=95
+CONFIG_LGM_THERMAL_LOW_THRESH=-20
+CONFIG_SPL_PAD_SIZE=0x32000
+CONFIG_COPIES_OF_RBE=0x1
+CONFIG_RECOVERY_SPL_PAD_SIZE=0x16000
+CONFIG_PREBOOT="if gpt verify mmc 0 ${partitions}; then echo; else run init_user_partition; fi; echo; wdt dev wdt@e2500000; wdt stop"
+CONFIG_BOOTDELAY=5
+CONFIG_MAX_BOOT_COUNTER=3
+CONFIG_LOADADDR=0x8200000
+CONFIG_DTB_LOADADDR=0x8000000
+CONFIG_ROOTFS_LOADADDR=0x40000000
+CONFIG_BOOTCOMMAND="if test \"${recovery_image}\" -eq 1; then run recover_primary ; else wdt start 60000 && run check_upgrade; run flashargs; run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${loadaddr} ${rootfs} && auth 5 ${loadaddr} ${rootfs_a_filesize} && cp.b 0x40000000 ${rootfs_loadaddr} ${filesystem_size} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size} && auth 4 ${dtb_loadaddr} ${dtb_a_block_size} && run set_cma_size && load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && auth 4 0x8200040 ${kernel_a_filesize} && parsemd ${kernel_loadaddr} ${kernel_loadaddr} && run update_bootargs && icc 1 0x${md_ro_start} 0x${md_ro_end} 0x${rootfs_loadaddr} 0x800 && bootm ${kernel_loadaddr} - ${dtb_loadaddr}; fi"
+CONFIG_FLASHARGS="setenv bootargs phram.phram=RAM0,0x${rootfs_loadaddr},0x${filesystem_size} mtdparts=RAM0:0x${filesystem_size}@0x00000000(RootFileSystem-RAM) root=/dev/mtdblock0 rootfstype=squashfs rootwait"
+CONFIG_ADDMISC="setenv bootargs ${bootargs} earlycon=lantiq,mmio32,0xe0a00000 console=ttyLTQ0,115200n8r ethaddr=${ethaddr} maxcpus=4 mem=2048M memmap=31M$1M,0x${filesystem_size}$0x${rootfs_loadaddr} initcall_debug=0 loglevel=${kernel_loglvl} intel_pstate=active intel_idle.max_cstate=2 max_cpufreq=${max_cpu_freq} init_cstate_margin=1 init_pstate_threshold=20 rootfs_startaddr=0x${rootfs_loadaddr} rootfs_endaddr=0x${rootfs_loadaddr_end} epu_table_ver=${epu_table_ver} pci=pcie_bus_perf"
+CONFIG_RESET_UBOOT_CONFIG="mmc dev 0 0; mw.l ${loadaddr} 0x0 0x20; mmc write ${loadaddr} ${env_a_block_start} 0x10; mmc write ${loadaddr} ${env_b_block_start} 0x10"
+CONFIG_UPGRADE_FS_INIT="tftpboot ${loadaddr} ${tftppath}${filesystem_image} && mmc erase ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc erase ${extended_boot_b_block_start} ${extended_boot_b_block_size} && mmc dev 0 0 && mmc write ${loadaddr} ${extended_boot_a_block_start} ${extended_boot_a_block_size} && mmc write ${loadaddr} ${extended_boot_b_block_start} ${extended_boot_b_block_size}"
+CONFIG_UPDATE_UBOOT="tftp ${loadaddr} ${tftppath}${u-boot}; if test $? -eq 0; then mw.l 0x8000 0x56190527 && cmp.l ${loadaddr} 0x8000 1; if test $? -eq 1; then echo \"Mkimage not found\"; mmc dev 0 1; mmc write ${loadaddr} 0x0 ${uboot_a_block_size}; mmc dev 0 2; mmc write ${loadaddr} 0x0 ${uboot_b_block_size}; else setenv select_partition primary; upgrade ${loadaddr} ${filesize}; fi; else echo \"TFTP failed - no upgrade performed\"; fi;"
+CONFIG_UPDATE_RBE="tftp ${loadaddr} ${tftppath}${rbe} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_BOOTLOADER="tftp ${loadaddr} ${tftppath}${bootloader}; setenv select_partition primary; upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}"
+CONFIG_UPDATE_FULLIMAGE="tftp ${loadaddr} ${tftppath}${fullimage} && cp.b ${loadaddr} 0x40000000 ${filesize} && mmc dev 0 0 && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade 0x40000000 ${filesize}"
+CONFIG_UPDATE_FULLIMAGE_USB="load usb ${usb_port_part} ${loadaddr} ${fullimage}; mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize}"
+CONFIG_USB_PORT_PART="0:1"
+CONFIG_UPDATE_KERNEL="tftp ${loadaddr} ${tftppath}${bootfile} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${bootfile}"
+CONFIG_UPDATE_DTB="tftpboot ${loadaddr} ${tftppath}${dtb} && mmc dev 0 0 && mmc write ${loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}"
+CONFIG_UPDATE_ROOTFS="tftp ${loadaddr} ${tftppath}${rootfs} && mmc dev 0 0; setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${rootfs}"
+CONFIG_NET_RAM="tftpboot ${loadaddr} ${tftppath}${bootfile}; run nfsargs addmisc; bootm ${loadaddr}"
+CONFIG_U_BOOT="u-boot-plus-spl-emmc.bin"
+CONFIG_RBE_BINARY="u-boot-spl-emmc.bin"
+CONFIG_BOOTLOADER_BINARY="u-boot-emmc.bin"
+CONFIG_DTB="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0.dtb"
+CONFIG_ROOTFS="/openwrt-intel_x86-lgm-CBSP_B0-squashfs-fs.rootfs"
+CONFIG_FULLIMAGE="openwrt-intel_x86-lgm-CBSP_B0-lgp_b0_fullimage.img"
+CONFIG_TEP_FIRMWARE="tep_fw.bin"
+CONFIG_UPDATE_TEP_FIRMWARE="tftpboot ${loadaddr} ${tftppath}${tep_firmware} && setenv select_partition primary; upgrade ${loadaddr} ${filesize} ${tep_firmware}"
+CONFIG_CHECK_IMAGE="echo check image"
+CONFIG_BOOTFILE="/openwrt-intel_x86-lgm-CBSP_B0-kernel.bin"
+CONFIG_EXTRA_ENV_DATA="load_firmwares=run flashargs && run addmisc; mmc dev 0 0; setenv select_partition primary; load mmc 0#${fs_part_a} ${kernel_loadaddr} ${bootfile} && load mmc 0#${fs_part_a} ${rootfs_loadaddr} ${rootfs} && mmc read ${dtb_loadaddr} ${dtb_a_block_start} ${dtb_a_block_size}\0commit_image=mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 1 && setenv select_partition secondary && upgrade \"${loadaddr}\" \"${filesize}\" && setenv udt_status 6; saveenv;\0upgrade_image=if test -n \"${udt_file}\"; then mmc dev 0 0; load mmc 0#${upgrade_part} 0x8200000 \"${udt_file}\" && mmc dev 0 0 && setenv select_partition primary && upgrade \"${loadaddr}\" \"${filesize}\"; if test $? -eq 0; then setenv udt_status 2;saveenv; else setenv udt_status 6; saveenv; fi; fi\0check_upgrade=if test \"${udt_status}\" -eq 1; then run upgrade_image ; elif test \"${udt_status}\" -eq 5;then run commit_image; fi\0kernel_loglvl=4\0udt_status=0\0udt_file=0\0udt_num=0\0udt_file_1=\"${dtb}\"\0udt_loc=${dtb_vol}\0upgrade_vol=upgrade\0update_bootloader=tftp ${loadaddr} ${tftppath}${bootloader} && setenv select_partition primary && upgrade ${loadaddr} ${filesize} && setenv select_partition secondary && upgrade ${loadaddr} ${filesize}\0set_cma_size=fdt addr ${dtb_loadaddr} ${dtb_a_block_size} && fdt get value cma_size /reserved-memory/linux,cma size; fdt get value cma_alignment /reserved-memory/linux,cma alignment; setexpr cma_start ${rootfs_loadaddr} - ${cma_size}; setenv bootargs ${bootargs} cma=${cma_size}@0x${cma_start}; run cma_check\0update_bootargs=setexpr md_ro_end ${md_ro_end} - 1; setenv bootargs ${bootargs} kernel_startaddr=0x${md_ro_start} kernel_endaddr=0x${md_ro_end}\0cpu_freq=2028000\0assert_cma_alignment=setexpr result ${rootfs_alignment} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size is not a multiple or larger than RootFS size\"; setexpr ret 1; fi;\0assert_cma_size_align=setexpr result ${cma_size} % ${cma_alignment}; if test $result -eq 0; then setexpr ret 0; else echo \"CMA size not aligned, pls check DTS\"; setexpr ret 1; fi;\0cma_check=run assert_cma_size_align; if test $ret > 0; then false; else run assert_cma_alignment; if test $ret > 0; then false; else true; fi; fi;\0"
+CONFIG_ROOTFS_A_SIZE=0x4000000
+CONFIG_ROOTFS_B_SIZE=0x4000000
+CONFIG_FILESYSTEM_PART_A="extended_boot_a"
+CONFIG_FILESYSTEM_PART_B="extended_boot_b"
+CONFIG_UPGRADE_PART="upgrade_partition"
+CONFIG_FILESYSTEM_IMG="ext4.fs"
+CONFIG_TOTAL_GPT_PARTITION=18
+CONFIG_LGM_PART_LIST="name=uboot_a,start=512k,size=1M;name=uboot_b,size=1M;name=tep_firmware_a,size=2M;name=tep_firmware_b,size=2M;name=dtb_a,size=512k;name=dtb_b,size=512k;name=env_a,size=256k;name=env_b,start=8192k,size=256k;name=extended_boot_a,start=9M,size=112M;name=extended_boot_b,size=112M;name=securestore_a,size=16M;name=securestore_b,size=16M;name=calibration_a,size=2M;name=calibration_b,size=2M;name=upgrade_partition,size=128M;name=overlay_container_a,size=32M;name=overlay_container_b,size=32M;name=log_partition,size=32M;"
+CONFIG_NET=y
+CONFIG_CMD_NET=y
+CONFIG_CMD_PING=y
+CONFIG_DM_ETH=y
+CONFIG_NETDEVICES=y
+CONFIG_LIGHTNING_MOUNTAIN_ETH=y
+CONFIG_LGM_P34X_SUPPORT=y
+CONFIG_IP_ADDRESS="192.168.1.1"
+CONFIG_SERVER_IP_ADDRESS="192.168.1.2"
+CONFIG_ETHERNET_ADDRESS="00:E0:92:00:01:40"
+CONFIG_ETHERNET_DEVICE="eth0"
+CONFIG_CPU_ADDR_BITS=36
+CONFIG_ATOM=y
+CONFIG_DEBUG_UART=y
+CONFIG_DEBUG_SIMPLIFY=y
+CONFIG_SMP_CORES=0x4
+CONFIG_LGM_EPU=y
+CONFIG_LGM_CPU_1560M=y
+CONFIG_LGM_CPU_FREQ=0x14
+CONFIG_TARGET_U_BOOT_LIGHTNING=y
+CONFIG_INTEL_UCODE_PATCH=y
+CONFIG_ASSERT_FIREWALL_RULES=y
+CONFIG_ENABLE_IA_VMM_SWITCH=y
+CONFIG_TEP_PKG=y
+CONFIG_BOOT_FROM_EMMC=y
+CONFIG_CHD_SECURE_BOOT=y
+# CONFIG_CHD_SECURE_BOOT_WITHOUT_SIGNING is not set
+CONFIG_SIGNTOOL="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Tools/signtool"
+CONFIG_PRIVATE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_keypair_product_a.der"
+CONFIG_PROD_UNIQUE_KEY="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/256-bit_huk_product.bin"
+# CONFIG_ENCRYPTION_SUPPORT is not set
+CONFIG_ROLLBACKID_SUPPORT=y
+CONFIG_ROLLBACKID_VALUE=5
+CONFIG_CERTIFICATION_SUPPORT=y
+CONFIG_CERTIFICATION="/nfs/site/proj/chdsw_ci/telco/dist/Secureboot_Keys/LGM_Keys_Vault/Product/384-bit_certificate_product_a.bin"
+# CONFIG_LGM_SECURE_UART is not set
+CONFIG_X86_TSC_TIMER_FREQ=2496000000
+CONFIG_TIMER_EARLY=y
+CONFIG_X86_LOAD_FROM_32_BIT=y
+CONFIG_RAMBASE=0x100000
+CONFIG_X86_RESET_VECTOR=y
+CONFIG_USE_EARLY_BOARD_INIT=y
+CONFIG_BOARD_EARLY_INIT_R=y
+CONFIG_LOCALVERSION=" OCTOPUS-URX851-EMMC-SECURE_BOOT"
+# CONFIG_CC_IS_GCC=y
+# CONFIG_GCC_VERSION=80300
+CONFIG_CLANG_VERSION=0
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+# CONFIG_OPTIMIZE_INLINING is not set
+# CONFIG_SPL_OPTIMIZE_INLINING is not set
+CONFIG_CC_HAS_ASM_INLINE=y
+# CONFIG_XEN is not set
+# CONFIG_DISTRO_DEFAULTS is not set
+# CONFIG_ENV_VARS_UBOOT_CONFIG is not set
+# CONFIG_SYS_BOOT_GET_CMDLINE is not set
+# CONFIG_SYS_BOOT_GET_KBD is not set
+CONFIG_SYS_MALLOC_F=y
+CONFIG_EXPERT=y
+CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
+CONFIG_SPL_IMAGE="spl/u-boot-spl-emmc.bin"
+CONFIG_SYS_LOAD_ADDR=0x08200000
+CONFIG_PLATFORM_ELFENTRY="_start"
+CONFIG_STACK_SIZE=0x2000000
+CONFIG_SYS_SRAM_BASE=0x0
+CONFIG_SYS_SRAM_SIZE=0x0
+CONFIG_FIT=y
+CONFIG_LEGACY_IMAGE_FORMAT=y
+CONFIG_SYS_EXTRA_OPTIONS=""
+CONFIG_HAVE_SYS_TEXT_BASE=y
+CONFIG_ARCH_FIXUP_FDT_MEMORY=y
+CONFIG_BOOTSTAGE_STASH_SIZE=0x1000
+CONFIG_DEBUG_UART_BASE=0xE0A00000
+CONFIG_DEBUG_UART_CLOCK=115200
+CONFIG_SD_BOOT=y
+CONFIG_AUTOBOOT=y
+CONFIG_USE_PREBOOT=y
+CONFIG_LOGLEVEL=4
+CONFIG_DISPLAY_CPUINFO=y
+CONFIG_BOARD_LATE_INIT=y
+CONFIG_SUPPORT_SPL=y
+CONFIG_SUPPORT_TPL=y
+CONFIG_SPL_SYS_STACK_F_CHECK_BYTE=0xaa
+CONFIG_SPL_SYS_MALLOC_SIMPLE=y
+# CONFIG_SPL_BANNER_PRINT is not set
+CONFIG_SPL_CRC32=y
+CONFIG_SPL_I2C=y
+CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=1
+CONFIG_SPL_MMC_TINY=y
+CONFIG_SPL_MMC_WRITE=y
+CONFIG_CMDLINE=y
+CONFIG_CMDLINE_EDITING=y
+CONFIG_HUSH_PARSER=y
+CONFIG_AUTO_COMPLETE=y
+CONFIG_SYS_LONGHELP=y
+CONFIG_SYS_PROMPT="=> "
+CONFIG_CMD_BOOTM=y
+# CONFIG_CMD_BOOTD is not set
+# CONFIG_BOOTM_PLAN9 is not set
+# CONFIG_BOOTM_RTEMS is not set
+# CONFIG_BOOTM_VXWORKS is not set
+CONFIG_BOOTM_LINUX=y
+CONFIG_CMD_IMI=y
+# CONFIG_CMD_XIMG is not set
+CONFIG_CMD_FDT=y
+CONFIG_CMD_FIT_LOAD=y
+CONFIG_CMD_GO=y
+CONFIG_CMD_RUN=y
+CONFIG_CMD_SAVEENV=y
+CONFIG_CMD_CRC32=y
+CONFIG_CMD_MEMORY=y
+CONFIG_CMD_I2C=y
+# CONFIG_CMD_LOADS is not set
+# CONFIG_CMD_RANDOM is not set
+CONFIG_CMD_MMC=y
+# CONFIG_CMD_PCI is not set
+CONFIG_CMD_GPT=y
+CONFIG_RANDOM_UUID=y
+# CONFIG_CMD_GPT_RENAME is not set
+CONFIG_CMD_ECHO=y
+CONFIG_CMD_ITEST=y
+CONFIG_CMD_SOURCE=y
+CONFIG_CMD_SETEXPR=y
+CONFIG_CMD_CACHE=y
+CONFIG_CMD_SLEEP=y
+CONFIG_CMD_AUTH=y
+CONFIG_CMD_ICC=y
+CONFIG_CMD_IA_SWITCH=y
+CONFIG_CMD_EXT4=y
+CONFIG_CMD_EXT4_WRITE=y
+CONFIG_CMD_FS_GENERIC=y
+CONFIG_CMD_FS_UUID=y
+CONFIG_PARTITIONS=y
+CONFIG_EFI_PARTITION=y
+CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
+CONFIG_EFI_PARTITION_ENTRIES_OFF=0
+CONFIG_PARTITION_UUIDS=y
+CONFIG_SUPPORT_OF_CONTROL=y
+CONFIG_PYLIBFDT=y
+CONFIG_OF_CONTROL=y
+CONFIG_OF_REAL=y
+CONFIG_SPL_OF_CONTROL=y
+CONFIG_OF_EMBED=y
+CONFIG_OF_SPL_REMOVE_PROPS="clocks clock-names interrupt-parent interrupts"
+CONFIG_SPL_OF_REAL=y
+CONFIG_ENV_SUPPORT=y
+CONFIG_SAVEENV=y
+CONFIG_ENV_IS_IN_MMC=y
+CONFIG_SYS_REDUNDAND_ENVIRONMENT=y
+CONFIG_ENV_OFFSET=0x780000
+CONFIG_ENV_OFFSET_REDUND=0x800000
+CONFIG_DM=y
+CONFIG_SPL_DM=y
+CONFIG_DM_WARN=y
+CONFIG_DM_STDIO=y
+CONFIG_DM_SEQ_ALIAS=y
+CONFIG_SPL_DM_INLINE_OFNODE=y
+# CONFIG_DM_DEVICE_REMOVE is not set
+CONFIG_REGMAP=y
+CONFIG_SPL_REGMAP=y
+CONFIG_SYSCON=y
+CONFIG_SPL_SYSCON=y
+CONFIG_SIMPLE_BUS=y
+CONFIG_SPL_SIMPLE_BUS=y
+CONFIG_OF_TRANSLATE=y
+# CONFIG_ACPIGEN is not set
+# CONFIG_SPL_OF_TRANSLATE is not set
+# CONFIG_TRANSLATION_OFFSET is not set
+CONFIG_DM_DEV_READ_INLINE=y
+#
+# Bus devices
+#
+CONFIG_GPIO=y
+CONFIG_DM_GPIO=y
+# CONFIG_SPL_DM_GPIO is not set
+CONFIG_MXL_LGM_GPIO=y
+CONFIG_I2C=y
+CONFIG_DM_I2C=y
+# CONFIG_SPL_DM_I2C is not set
+CONFIG_SPL_SYS_I2C_LEGACY=y
+CONFIG_SYS_I2C_DW=y
+CONFIG_SYS_I2C_SLAVE=0x6a
+CONFIG_SYS_I2C_SPEED=100000
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA954x=y
+# CONFIG_INPUT is not set
+CONFIG_SPL_BLK=y
+CONFIG_MMC=y
+CONFIG_MMC_WRITE=y
+CONFIG_DM_MMC=y
+CONFIG_SPL_DM_MMC=y
+CONFIG_MMC_QUIRKS=y
+CONFIG_MMC_HW_PARTITIONING=y
+CONFIG_MMC_SDHCI=y
+CONFIG_MMC_SDHCI_ADMA=y
+CONFIG_MMC_SDHCI_MXL=y
+# CONFIG_MMC_VERBOSE is not set
+CONFIG_SERIAL=y
+CONFIG_BAUDRATE=115200
+CONFIG_REQUIRE_SERIAL_CONSOLE=y
+# CONFIG_SPECIFY_CONSOLE_INDEX is not set
+CONFIG_SERIAL_PRESENT=y
+CONFIG_SPL_SERIAL_PRESENT=y
+CONFIG_DM_SERIAL=y
+# CONFIG_SPL_DM_SERIAL is not set
+CONFIG_DEBUG_UART_SHIFT=0
+CONFIG_MXL_SERIAL=y
+CONFIG_TIMER=y
+CONFIG_SPL_TIMER=y
+CONFIG_X86_TSC_TIMER=y
+CONFIG_FS_EXT4=y
+CONFIG_HAVE_ARCH_IOMAP=y
+CONFIG_HAVE_PRIVATE_LIBGCC=y
+CONFIG_LIB_UUID=y
+CONFIG_PRINTF=y
+CONFIG_SPL_PRINTF=y
+CONFIG_SPRINTF=y
+CONFIG_SPL_SPRINTF=y
+CONFIG_STRTO=y
+CONFIG_SPL_STRTO=y
+CONFIG_USE_PRIVATE_LIBGCC=y
+CONFIG_SYS_HZ=1000
+CONFIG_SPL_USE_TINY_PRINTF=y
+# CONFIG_PANIC_HANG is not set
+CONFIG_REGEX=y
+CONFIG_LIB_RAND=y
+
+# CONFIG_DM_RTC is not set
+# CONFIG_DM_SCSI is not set
+# CONFIG_DM_VIDEO is not set
+# CONFIG_BACKLIGHT is not set
+# CONFIG_CMD_VIDCONSOLE is not set
+# CONFIG_DM_KEYBOARD is not set
+# CONFIG_USB_ETHER_ASIX is not set
+# CONFIG_USB_ETHER_SMSC95XX is not set
+# CONFIG_USB_HOST_ETHER is not set
+# CONFIG_PCH is not set
+# CONFIG_CMD_FPGA_LOADMK is not set
+# CONFIG_CMD_GETTIME is not set
+# CONFIG_CMD_IO is not set
+# CONFIG_CMD_IRQ is not set
+# CONFIG_PCI is not set
+# CONFIG_CMD_BOOTEFI_BOOTMGR is not set
+# CONFIG_EFI_LOADER is not set
+# CONFIG_BINMAN_FDT is not set
+# CONFIG_CHARSET is not set
+# CONFIG_SYSRESET is not set
+# CONFIG_SYSRESET_CMD_RESET is not set
+# CONFIG_SYSINFO_SMBIOS is not set
+# CONFIG_X86_PCH7 is not set
+# CONFIG_X86_PCH9 is not set
+# CONFIG_IRQ is not set
+# CONFIG_CMD_ELF is not set
+# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
+# CONFIG_SPL_SPI is not set
+CONFIG_SPL_PAYLOAD="u-boot-emmc.bin"
+CONFIG_BUILD_TARGET="u-boot-plus-spl-emmc.bin"
+# CONFIG_SPL_FRAMEWORK is not set
+# CONFIG_SPL_RAW_IMAGE_SUPPORT is not set
+# CONFIG_SPL_LEGACY_IMAGE_SUPPORT is not set
+# CONFIG_CMD_BDI is not set
+# CONFIG_CMD_CONSOLE is not set
+# CONFIG_BOOTM_NETBSD is not set
+# CONFIG_CMD_EDITENV is not set
+# CONFIG_CMD_IMPORTENV is not set
+# CONFIG_CMD_EXPORTENV is not set
+# CONFIG_CMD_BOOTP is not set
+# CONFIG_CMD_NFS is not set
+# CONFIG_CMD_BLOCK_CACHE is not set
+# CONFIG_SYS_XTRACE is not set
+
+#
+# Hashing Support
+#
+CONFIG_CRC32=y
+
+#
+# Compression Support
+#
+CONFIG_LZMA=y
+CONFIG_GZIP=y
+CONFIG_ZLIB=y
+CONFIG_OF_LIBFDT=y
+CONFIG_OF_LIBFDT_ASSUME_MASK=0
+CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_SPL_OF_LIBFDT=y
+CONFIG_SPL_OF_LIBFDT_ASSUME_MASK=0xff
+
+#
+# System tables
+#
+CONFIG_GENERATE_SMBIOS_TABLE=y
+CONFIG_LMB=y
+CONFIG_LMB_USE_MAX_REGIONS=y
+CONFIG_LMB_MAX_REGIONS=8
+
+#
+# Tools options
+#
+CONFIG_MKIMAGE_DTC_PATH="dtc"
+CONFIG_TOOLS_CRC32=y
+CONFIG_TOOLS_HOST_CRC32=y
+CONFIG_TOOLS_LIBCRYPTO=y
+CONFIG_TOOLS_FIT=y
+CONFIG_TOOLS_FIT_FULL_CHECK=y
+CONFIG_TOOLS_FIT_PRINT=y
+CONFIG_TOOLS_FIT_RSASSA_PSS=y
+# CONFIG_TOOLS_FIT_SIGNATURE is not set
+CONFIG_TOOLS_FIT_VERBOSE=y
+# CONFIG_TOOLS_MD5 is not set
+CONFIG_TOOLS_OF_LIBFDT=y
+# CONFIG_TOOLS_SHA1 is not set
+# CONFIG_TOOLS_SHA256 is not set
+# CONFIG_TOOLS_SHA384 is not set
+# CONFIG_TOOLS_SHA512 is not set
+CONFIG_MISC=y
+CONFIG_I2C_EEPROM=y
+CONFIG_SERIAL_SHIFT_LGM=y
+CONFIG_CMD_SSO=y
+CONFIG_CMD_GPIO=y
+CONFIG_CMD_LED=y
+CONFIG_LED=y
+CONFIG_LED_BLINK=y
+CONFIG_LED_LGM_SSO=y
+CONFIG_LGM_SSO_PORT=0
+CONFIG_LGM_SSO_LED_DUTY_CYCLE=255
+CONFIG_LGM_SSO_LED1_PIN=y
+CONFIG_LGM_SSO_LED1_PIN_NO=31
+CONFIG_LGM_SSO_LED2_PIN=y
+CONFIG_LGM_SSO_LED2_PIN_NO=30
+CONFIG_LGM_SSO_LED3_PIN=y
+CONFIG_LGM_SSO_LED3_PIN_NO=29
+CONFIG_LGM_SSO_LED4_PIN=y
+CONFIG_LGM_SSO_LED4_PIN_NO=28
+CONFIG_LGM_SSO_LED5_PIN=y
+CONFIG_LGM_SSO_LED5_PIN_NO=27
+CONFIG_LGM_SSO_BLUE_LED_PIN=y
+CONFIG_LGM_SSO_BLUE_LED_PIN_NO=26
+CONFIG_LGM_SSO_GREEN_LED_PIN=y
+CONFIG_LGM_SSO_GREEN_LED_PIN_NO=25
+CONFIG_LGM_SSO_RED_LED_PIN=y
+CONFIG_LGM_SSO_RED_LED_PIN_NO=24
+CONFIG_DM_THERMAL=y
+CONFIG_LGM_THERMAL=y
+CONFIG_FDT_OVERLAY_SUPPORT=y
+CONFIG_CMD_USB=y
+CONFIG_DOS_PARTITION=y
+CONFIG_CMD_DM=y
+CONFIG_USB=y
+# CONFIG_SPL_DM_USB is not set
+CONFIG_DM_USB=y
+CONFIG_USB_HOST=y
+CONFIG_USB_XHCI_HCD=y
+# CONFIG_USB_XHCI_PCI is not set
+CONFIG_USB_XHCI_MXL=y
+CONFIG_USB_STORAGE=y
